(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[,,function(t,e){t.exports=Vue},function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return a}));window.localStorage.getItem("api")||t.env.POI_APP_API;var r="CxE Backend",a="id"}).call(this,n(23))},,,,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},,,function(t,e,n){"use strict";n.r(e);var r={props:{width:{type:Number,default:500},value:{type:Boolean},title:{type:String,default:""}},methods:{close:function(){console.log("close"),this.$emit("input",!1)}}},a=n(1),i=Object(a.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",t._b({attrs:{scrollable:"",value:t.value,width:t.width},on:{input:function(e){return t.$emit("input",e)}}},"v-dialog",t.$attrs,!1),[n("v-card",[n("v-card-title",{staticClass:"headline lighten-2",attrs:{"primary-title":""}},[t._v("\n      "+t._s(t.title)+"\n      "),n("v-spacer"),t._v(" "),n("v-btn",{attrs:{icon:""},on:{click:function(e){return t.close()}}},[n("v-icon",[t._v("close")])],1)],1),t._v(" "),n("v-divider"),t._v(" "),n("v-card-text",{staticStyle:{"max-height":"100%"}},[t._t("default")],2),t._v(" "),n("v-divider"),t._v(" "),n("v-card-actions",[t._t("actions")],2)],1)],1)}),[],!1,null,null,null);e.default=i.exports},function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),i={props:{name:{type:String,default:""},id:{type:String,default:""},title:{type:String,default:""},titleKey:{type:String,default:"title"}},data:function(){return{loading:!0,items:[],dialog:!1,form:{}}},watch:{$route:function(t,e){this.fetch()}},mounted:function(){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:this.fetch();case 1:case"end":return t.stop()}}),null,this)},methods:{fetch:function(){var t;return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=!0,e.next=4,a.a.awrap(this.$service.getAll(this.name));case 4:t=e.sent,this.items=t;case 6:return e.prev=6,this.loading=!1,e.finish(6);case 9:case"end":return e.stop()}}),null,this,[[0,,6,9]])},deleteItem:function(t){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=!0,e.next=4,a.a.awrap(this.$service.deleteById(this.name,t.id));case 4:e.sent,this.items.splice(this.items.indexOf(t),1);case 6:return e.prev=6,this.loading=!1,e.finish(6);case 9:case"end":return e.stop()}}),null,this,[[0,,6,9]])},editItem:function(t){this.$emit("click:edit",t)},itemClick:function(t){this.$emit("click:item",t)}}},s=n(1),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{"grid-list-xl":""}},[n("h1",[t._v(t._s(t.title))]),t._v(" "),t._t("default"),t._v(" "),n("v-row",[t._t("title"),t._v(" "),t._t("actions-left"),t._v(" "),n("v-spacer"),t._v(" "),n("v-btn",{staticClass:"primary",on:{click:function(e){return t.$emit("click:create")}}},[t._v("\n      Create new\n    ")]),t._v(" "),t._t("actions-right")],2),t._v(" "),n("v-layout",{attrs:{wrap:""}},[n("Grid",{attrs:{loading:t.loading,items:t.items},scopedSlots:t._u([{key:"card",fn:function(e){var r=e.item;return[n("v-card",{staticClass:"show-actions-on-hover",on:{click:function(e){return t.itemClick(r)}}},[n("v-img",{staticClass:"white--text align-end",attrs:{height:"200px",src:r.imageUrl||r.image||"https://cdn.vuetifyjs.com/images/cards/docks.jpg"}}),t._v(" "),n("v-card-title",[n("div",{staticClass:"text-truncate",staticStyle:{width:"50%"}},[t._v("\n              "+t._s(r[t.titleKey]||r.name||r.title||"No title")+"\n            ")]),t._v(" "),n("v-spacer"),t._v(" "),n("div",{staticClass:"actions text-right"},[n("v-btn",{staticClass:"pull-right",attrs:{icon:"",text:""},on:{click:function(e){return e.stopPropagation(),t.editItem(r)}}},[n("v-icon",[t._v("edit")])],1)],1),t._v(" "),n("div",{staticClass:"actions text-right"},[n("v-btn",{staticClass:"pull-right",attrs:{icon:"",text:""},on:{click:function(e){return e.stopPropagation(),t.deleteItem(r)}}},[n("v-icon",[t._v("close")])],1)],1)],1),t._v(" "),t._t("card")],2)]}}],null,!0)})],1)],2)}),[],!1,null,null,null);e.default=o.exports},function(t,e,n){"use strict";n.r(e);var r={props:{value:{type:Boolean,default:!1},headers:{type:Array,default:function(){return{}}},row:{type:Object,default:function(){return{}}},selectable:{type:Boolean,default:!1}},computed:{selected:{get:function(){return this.value},set:function(t){this.$emit("input",t)}},fields:function(){return this.row.item}},methods:{toggle:function(){this.selected=!this.selected},emitClick:function(){this.$emit("click")}}},a=n(1),i=Object(a.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",{staticStyle:{cursor:"pointer"},attrs:{active:t.selected},on:{click:t.emitClick}},[t.selectable?n("td",[n("v-checkbox",{attrs:{primary:"","hide-details":""},on:{click:function(e){return e.stopPropagation(),t.toggle(e)}},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1):t._e(),t._v(" "),t._t("items",[t._l(t.headers,(function(e,r){return[n("td",{key:r},[e.value?[t._t("column-"+e.value,[t._v("\n            "+t._s(t.fields[e.value])+"\n          ")],{row:t.fields,field:t.fields[e.value]})]:t._e()],2)]}))],{item:t.fields})],2)}),[],!1,null,null,null);e.default=i.exports},function(t,e,n){"use strict";n.r(e);var r={data:function(){return{}},computed:{user:function(){return this.$store.getters.getUser}}},a=n(1),i=Object(a.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[t.user?n("v-menu",{attrs:{"offset-y":"",on:"on"}},[n("v-btn",{attrs:{icon:"",large:""},scopedSlots:t._u([{key:"activator",fn:function(e){e.on;return[n("v-avatar",{attrs:{size:"32px",tile:""}},[n("v-icon",{attrs:{dark:""}},[t._v("account_circle")])],1)]}}],null,!1,3474299470)}),t._v(" "),n("v-list",[n("v-list-tile",[n("v-list-tile-action",[n("v-icon",[t._v("account_circle")])],1),t._v(" "),n("v-list-tile-content",[n("v-list-tile-title",[t._v(t._s(t.user.username||t.user.name||"-"))]),t._v(" "),n("v-list-tile-sub-title",[t._v(t._s(t.user.email))])],1)],1),t._v(" "),n("v-list-tile",{attrs:{to:"/selectcompany"}},[n("v-list-tile-action",[n("v-icon",[t._v("swap_horiz")])],1),t._v(" "),n("v-list-tile-title",[t._v("Switch company")])],1),t._v(" "),n("v-list-tile",{attrs:{to:"/accounts/edit/"+t.user._id}},[n("v-list-tile-action",[n("v-icon",[t._v("chat")])],1),t._v(" "),n("v-list-tile-title",[t._v("My profile")])],1),t._v(" "),n("v-list-tile",{attrs:{to:"/logout"}},[n("v-list-tile-action",[n("v-icon",[t._v("exit_to_app")])],1),t._v(" "),n("v-list-tile-title",[t._v("Sign out")])],1)],1)],1):[n("v-btn",{attrs:{flat:"",to:"/login"}},[t._v("\n      Sign in\n    ")])]],2)}),[],!1,null,null,null);e.default=i.exports},function(t,e,n){"use strict";n.r(e);var r=n(1),a=Object(r.a)({},(function(){var t=this.$createElement;return(this._self._c||t)("v-progress-linear",{attrs:{height:8,color:"blue",indeterminate:""}})}),[],!1,null,null,null);e.default=a.exports},,,function(t,e){t.exports=Vuetify},,,,,,,,,,,,,,,function(t,e,n){t.exports=n(89)},,function(t,e,n){"use strict";var r=n(7);n.n(r).a},,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(8);n.n(r).a},,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var r={"./AppSnackbar.vue":108,"./BaseDialog.vue":15,"./CollectionList.vue":90,"./ColumnSelector.vue":91,"./ConnectToServer.vue":92,"./DataTable/DataTable.vue":93,"./DataTable/DataTableHeader.vue":94,"./DataTable/components/ProgressLinear.vue":19,"./DataTable/components/Row.vue":17,"./DataTable/examples/Slots.vue":109,"./Dialog.vue":95,"./Dropzone.vue":96,"./DynamicList.vue":97,"./Grid.vue":98,"./List.vue":16,"./Loader.vue":99,"./NavigationDrawer.vue":100,"./Snackbar.vue":101,"./StoreMessages.vue":102,"./Table.vue":103,"./TheProfileMenu.vue":18,"./Toggle.vue":104,"./ToggleJson.vue":110,"./Toolbar.vue":105,"./TypePermissions.vue":106,"./Types/TypesAddMultiple.vue":107};function a(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}a.keys=function(){return Object.keys(r)},a.resolve=i,t.exports=a,a.id=83},function(t,e,n){"use strict";var r=n(9);n.n(r).a},function(t,e,n){"use strict";var r=n(10);n.n(r).a},function(t,e,n){"use strict";var r=n(11);n.n(r).a},function(t,e,n){"use strict";var r=n(12);n.n(r).a},function(t,e){t.exports=null},function(t,e,n){"use strict";n.r(e);var r=n(2),a=n.n(r),i=n(0),s=n.n(i),o={},c=(n(39),n(1)),l=Object(c.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("v-app",{attrs:{id:"inspire",dark:""}},[e("v-content",[e("v-layout",{staticStyle:{"min-height":"100%"},attrs:{"align-center":"","justify-center":"","pa-2":""}},[this._t("default")],2)],1)],1)}),[],!1,null,null,null).exports,u=n(3);function p(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var d={props:{},data:function(){return{title:u.b,dark:!1,drawer:!0,items:[]}},computed:{_contentItems:function(t){return t.items.map((function(t){return{path:"/content/".concat(t.name),icon:"perm_identity",text:t.name}}))},_items:function(t){return[{path:"/",text:"Dashboard"},{heading:"Content"}].concat(p(t._contentItems),[{heading:"General"},{path:"/roles",icon:"settings",text:"Roles & Permissions"},{path:"/typebuilder",icon:"settings",text:"Type Builder"},{path:"/settings",icon:"settings",text:"Settings"}])}},created:function(){var t;return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.awrap(this.$serviceFactory("types").getAll());case 2:t=e.sent,this.items=t;case 4:case"end":return e.stop()}}),null,this)}},f=Object(c.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{dark:t.dark}},[n("Toolbar",{attrs:{title:t.title},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}}),t._v(" "),n("NavigationDrawer",{attrs:{items:t._items},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}}),t._v(" "),n("v-content",[n("v-container",[t._t("default")],2)],1)],1)}),[],!1,null,null,null).exports;a.a.component("LoginLayout",l),a.a.component("DefaultLayout",f);var v={data:function(t){return{}},created:function(){var t;return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:(t=this.$route.query.token)&&window.localStorage.setItem("token",t);case 2:case"end":return e.stop()}}),null,this)}},m=Object(c.a)(v,(function(){var t=this.$createElement,e=this._self._c||t;return e("DefaultLayout",[e("router-view"),this._v(" "),e("AppSnackbar")],1)}),[],!1,null,null,null).exports,h=Object(c.a)({},(function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n  Not Found\n")])}),[],!1,null,null,null).exports;function b(){var t=function(t,e){e||(e=t.slice(0));return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n  <div>\n\n  \x3c!-- <v-row>\n  <v-breadcrumbs :items="_breadcrumbs" divider=">" />\n    <v-spacer/>\n    <v-btn class="mx-2 error" v-if="selection.length" @click="onClickDelete(selection)">Move to trash</v-btn>\n\n    <v-btn class="mx-2 primary" to="/pages/new">Create new page</v-btn>\n  </v-row> --\x3e\n\x3c!-- {{$attrs}} --\x3e\n<v-btn class="mx-2 error" v-if="selection.length" @click="onClickDelete(selection)">Move to trash</v-btn>\n\n  <v-data-table\n  show-select\n  v-model="selection"\n        :loading="loading"\n        :headers="headers"\n        :items="loading ? [] : items"\n        :server-items-length="totalItems"\n        :options.sync="options"\n        @click:row="rowClick"\n      >\n        \x3c!-- TODO Custom table cells --\x3e\n        <template #item.title="{value, item}">\n            <router-link :to="toLink(item)">{{value || "No name"}}</router-link>\n        </template>\n        <template #item.url="{value, item}">\n            <a target="_blank" :href="toLink(item)">{{value || "No name"}}</a>\n        </template>\n      </v-data-table>\n</div>\n  ']);return b=function(){return t},t}function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x,w={props:{name:{type:String,default:"pages"},status:{type:String,default:""},id:{type:String,default:""},headers:{type:Array,default:function(){return[{text:"Title",value:"title"},{text:"url",value:"url"},{text:"Datum",value:"date"}]}}},computed:{_breadcrumbs:function(){return[{text:"Dashboard",disabled:!1,href:"/"},{text:this.name,disabled:!0,href:"breadcrumbs_link_2"}]}},data:function(){return{selection:[],loading:!1,items:[],totalItems:0,options:{},props:{id:{},url:{},body:{type:"textarea"},pageblock:{type:"json"}}}},watch:{status:function(){this.fetch()}},created:function(){this.fetch()},methods:{rowClick:function(t){window.open(t.url)},toLink:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"/pages/edit/".concat(t.id)},fetch:function(){var t,e,n,r,a=arguments;return s.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},i.prev=1,this.loading=!0,i.next=5,s.a.awrap(this.$service.getWithTotalItems(this.name,y({state:"published"===this.status?"NULL":this.status},t)));case 5:e=i.sent,n=e.items,r=e.totalItems,this.totalItems=r,this.items=n;case 9:return i.prev=9,this.loading=!1,i.finish(9);case 12:case"end":return i.stop()}}),null,this,[[1,,9,12]])},onClickDelete:function(){var t,e,n=this,r=arguments;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t=r.length>0&&void 0!==r[0]?r[0]:[];try{this.loading=!0,e=t.map((function(t){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if("trash"!==t.state){e.next=6;break}return e.next=3,s.a.awrap(n.$service.deleteById("pages",t.id));case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,s.a.awrap(n.$service.updateById("pages",t.id,{state:"trash"}));case 8:e.t0=e.sent;case 9:return e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}))})),Promise.all(e).then((function(t){console.log(t),n.fetch()}))}finally{this.loading=!1}case 2:case"end":return a.stop()}}),null,this)}},template:(x=b(),x[0])};function O(){var t=function(t,e){e||(e=t.slice(0));return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n    <div>\n    <v-row>\n    <v-breadcrumbs :items="_breadcrumbs" divider=">" />\n      <v-spacer/>\n      <v-btn class="mx-2 primary" to="/pages/new">Create new page</v-btn>\n    </v-row>\n\n    <v-card>\n    <v-tabs\n    v-model="tab"\n    dark\n  >\n    <v-tab\n      v-for="item in tabs"\n      :key="item.tab"\n      :to="item.path"\n    >\n      {{ item.tab }}\n    </v-tab>\n  </v-tabs>\n  \x3c!-- {{$attrs}} --\x3e\n  \x3c!-- {{$props}} --\x3e\n  <Table :status="status"/>\n  \x3c!-- <router-view v-bind="$props" /> --\x3e\n  \x3c!-- <v-tabs-items v-model="tab">\n      <v-tab-item\n        v-for="item in tabs"\n        :key="item.tab"\n      >\n        <v-card flat>\n          <component v-bind="$attrs" :is="item.component"/>\n        </v-card>\n      </v-tab-item>\n    </v-tabs-items> --\x3e\n    </v-card>\n    </div>\n  ']);return O=function(){return t},t}var k={components:{Table:w},props:{status:{type:String,default:""},tabs:{type:Array,default:function(){return[{tab:"One",content:"Tab 1 Content"},{tab:"Two",content:"Tab 2 Content"}]}}},computed:{_breadcrumbs:function(){return[{text:"Dashboard",disabled:!1,href:"/"},{text:"Pages",disabled:!1,href:"#/pages"},{text:this.status,disabled:!0,href:"breadcrumbs_link_2"}]}},data:function(){return{tab:null}},template:function(t){return t[0]}(O())};function j(){var t=function(t,e){e||(e=t.slice(0));return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n  <v-form ref="form" @submit.prevent="validate(form)">\n  <v-row>\n            <v-col cols="8">\n                <div v-html="form.body" @blur="form.body = $event.target.innerHTML" contenteditable>loading...</div>\n            </v-col>\n            <v-col>\n              <v-text-field v-model="form.title" label="Page title" placeholder="e.g. Homepage" />\n              <v-text-field v-model="form.url" label="Url" placeholder="e.g. /about/us" />\n              <v-textarea v-model="form.body" label="Page content" />\n              \x3c!-- <v-textarea v-model="form.blocks" label="Blocks" /> --\x3e\n              {{form.blocks}}\n\n            </v-col>\n        </v-row>\n\n    \n      <v-row>\n        <v-btn\n          :loading="loading"\n          color="primary"\n          text\n          type="submit"\n        >\n          Apply\n        </v-btn>\n        <v-spacer />\n\n        <v-btn\n          :loading="loading"\n          color="error"\n          text\n          @click="onClickDelete(form)"\n        >\n          Delete\n        </v-btn>\n      </v-row>\n  </v-form>']);return j=function(){return t},t}function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach((function(e){E(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P(){var t=function(t,e){e||(e=t.slice(0));return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n    <div>\n    <v-row>\n    <v-breadcrumbs :items="_breadcrumbs" divider=">" />\n      <v-spacer/>\n      \x3c!-- <v-btn class="mx-2 primary" to="/pages/new">Create new page</v-btn> --\x3e\n    </v-row>\n\n    <v-card>\n        <v-card-text>\n        <Form \n        v-bind="$props" \n        @success="success"/>\n\n \n        </v-card-text>\n    </v-card>\n    </div>\n  ']);return P=function(){return t},t}var C={components:{Form:{props:{id:{type:String},title:{type:String},value:{type:Object,default:function(){return{}}},props:{type:Object,default:function(){return{}}}},data:function(){return{loading:!1,form:$({},this.value)}},computed:{},created:function(){var t;return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.id){e.next=5;break}return e.next=3,s.a.awrap(this.$service.getById("pages",this.id));case 3:t=e.sent,this.form=t;case 5:case"end":return e.stop()}}),null,this)},methods:{validate:function(t){this.$refs.form.validate()&&this.submit(t)},submit:function(t){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,this.id),e.prev=1,this.loading=!0,e.next=5,s.a.awrap(this.$service.createOrUpdateById("pages",this.id,t));case 5:e.sent,this.$emit("success");case 7:return e.prev=7,this.loading=!1,this.$emit("input",!1),e.finish(7);case 11:case"end":return e.stop()}}),null,this,[[1,,7,11]])},onClickDelete:function(t){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,s.a.awrap(this.$service.deleteById("pages",this.id));case 4:t.sent,this.$emit("success");case 6:return t.prev=6,this.loading=!1,this.$emit("input",!1),t.finish(6);case 10:case"end":return t.stop()}}),null,this,[[0,,6,10]])}},template:function(t){return t[0]}(j())}},props:{id:{type:String,default:""},value:{},name:{type:String,default:""}},computed:{_breadcrumbs:function(){return[{text:"Dashboard",disabled:!1,href:"/"},{text:"Pages",disabled:!1,href:"#/pages"},{text:this.id?"Edit":"New",disabled:!0}]}},data:function(){return{tab:null}},methods:{success:function(){this.$snackbar("saved")}},template:function(t){return t[0]}(P())},D=[{tab:"Published",path:"/pages/published",component:w,props:function(t){return{name:"pages",value:t.query}}},{tab:"Draft",path:"/pages/draft",component:w,props:function(t){return{name:"pages",value:t.query}}},{tab:"Trash",path:"/pages/trash",component:w,props:function(t){return{name:"pages",value:t.query}}}];function I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(Object(n),!0).forEach((function(e){A(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function A(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var B=[{path:"/pages",redirect:"/pages/published"},{path:"/pages/new",component:C,props:function(t){return{name:"pages",value:t.query}}},{path:"/pages/:status",component:k,props:function(t){return T({name:"pages",tabs:D},t.params)}},{path:"/pages/edit/:id",component:C,props:function(t){return T({name:"pages",value:t.query},t.params)}}],R={props:{name:{type:String,default:""}},data:function(){return{loading:!1,items:[],form:{},dialog:!1,collection:{titleKey:"title"},schema:[],props:{}}},computed:{_breadcrumbs:function(){return[{text:"Dashboard",disabled:!1,href:"/"},{text:"Collections",disabled:!1,href:"/collections"},{text:this.name,disabled:!0,href:"breadcrumbs_link_2"}]},_itemTitle:function(){return this.collection.titleKey||"title"}},created:function(){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.awrap(this.$service.getAll(this.name));case 2:this.items=t.sent;case 3:case"end":return t.stop()}}),null,this)},methods:{onClickItem:function(t){console.log("TODO")},onClickEdit:function(t){console.log("TODO")},createTable:function(){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,s.a.awrap(fetch("/api/collections/".concat(this.name,"/createfromjson"),{method:"GET"}));case 4:t.sent,this.$emit("success");case 6:return t.prev=6,this.loading=!1,this.$emit("input",!1),t.finish(6);case 10:case"end":return t.stop()}}),null,this,[[0,,6,10]])}}},L=Object(c.a)(R,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-breadcrumbs",{attrs:{items:t._breadcrumbs}}),t._v(" "),n("Grid",{attrs:{name:t.name,"title-key":t._itemTitle},on:{"click:item":t.onClickItem,"click:edit":t.onClickEdit,"click:create":function(e){t.dialog=!0}}},[n("template",{slot:"actions-right"})],2)],1)}),[],!1,null,null,null).exports;function N(){var t=function(t,e){e||(e=t.slice(0));return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n  <div>\n\n  <List :id="id" \n  :name="name" \n  item-title="url" \n  @click:item="onClickItem"\n    @click:edit="onClickEdit"\n    @click:create="onClickCreate"\n  :props="props" >\n  <template #title>\n    Collections\n  </template>\n  </List>\n\n  <router-view/>\n \n  </div>\n  ']);return N=function(){return t},t}function U(){var t=function(t,e){e||(e=t.slice(0));return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}(['\n  <div>\n    <v-form ref="form" @submit.prevent="submit(form)">\n  \n      <v-text-field v-model="form.name" label="Name" />\n\n      <v-row>\n        <v-btn\n          :loading="loading"\n          color="primary"\n          text\n          type="submit"\n        >\n          Create\n        </v-btn>\n      </v-row>\n  </v-form>  \n  </div>\n  ']);return U=function(){return t},t}var F=[{path:"/collections",component:{props:{name:{type:String,default:""},id:{type:String,default:""}},data:function(){return{props:{name:{type:"text",placeholder:"e.g. products, news or menus"},titleKey:{type:"text",placeholder:"specify the key of the card titles e.g. title"},schemaJson:{type:"textarea",placeholder:'e.g. { "title": :{"type":"text"}, }'}}}},methods:{onClickItem:function(t){this.$router.push("/collections/".concat(t.name,"?id=").concat(t.id))},onClickEdit:function(t){this.$router.push("/collections/edit/".concat(t.name))},onClickCreate:function(t){this.$router.push("/collections/new")}},template:function(t){return t[0]}(N())},props:function(t){return{name:"collections"}},children:[{path:"new",component:{props:{name:{type:String,default:""},id:{type:String,default:""}},data:function(){return{form:{}}},methods:{submit:function(t){console.log(t),this.$emit("submit",t)}},template:function(t){return t[0]}(U())},props:function(t){return{showDialog:!0}}}]}],G=n(5),z=n.n(G),M=window.localStorage,q=z.a.post,H={user:{authenticated:!1},currentTokenData:function(){try{var t=M.getItem("access_token");return this.parseJwt(t)}catch(e){M.removeItem("access_token"),console.warn(e)}},parseJwt:function(t){if(!t)return null;var e=t.split(".")[1].replace("-","+").replace("_","/");return JSON.parse(window.atob(e))},sendResetLink:function(t){return q("/sendresetlink",{email:t})},checkAuth:function(){var t=M.getItem("access_token");t||"undefined"!==t?(z.a.defaults.headers.common.Authorization="Bearer ".concat(t),this.user.authenticated=!0):(z.a.defaults.headers.common.Authorization="",this.user.authenticated=!1),console.log("Axios Authorization set to","Bearer ".concat(t))},login:function(t){return q("/login",t,{headers:{Authorization:""}}).then((function(t){var e=t.access_token||t.token;return M.setItem("access_token",e),t}))},loginCall:function(t){return q("/login",t,{headers:{Authorization:""}})},signup:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};q("/users",t,(function(t){e.user.authenticated=!0})).catch((function(t){n.error=t}))},logout:function(){M.removeItem("access_token"),this.user.authenticated=!1},getAuthHeader:function(){return{Authorization:"Bearer "+M.getItem("access_token")}}},J={data:function(){return{valid:!0,loading:!1,form:{},formErrors:{}}},methods:{validate:function(t){this.$refs.form.validate()&&this.submit(t)},submit:function(t){var e,n,r,a,i;return s.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(this.$refs.form.validate()){o.next=2;break}return o.abrupt("return");case 2:return this.loading=!0,this.formErrors={},o.prev=4,o.next=7,s.a.awrap(H.sendResetLink(t.email));case 7:e=o.sent,console.log(e),e&&this.$router.push("/forgot/check"),o.next=18;break;case 12:o.prev=12,o.t0=o.catch(4),n=o.t0.response,r=n.data,a=r.errors,i=void 0===a?[]:a,console.log(i);case 18:return o.prev=18,this.loading=!1,o.finish(18);case 21:case"end":return o.stop()}}),null,this,[[4,12,18,21]])}}},W=Object(c.a)(J,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[n("v-card",{staticClass:"elevation-12"},[n("v-toolbar",{attrs:{dark:"",color:"primary"}},[n("v-toolbar-title",[t._v("Forgot password")]),t._v(" "),n("v-spacer")],1),t._v(" "),n("v-form",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.validate(t.form)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-card-text",[n("v-text-field",{attrs:{"error-messages":t.formErrors.email,rules:[function(t){return!!t||"Item is required"}],required:"","prepend-icon":"person",label:"Email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),t._v(" "),n("v-card-actions",[n("router-link",{attrs:{to:"/login"}},[t._v("\n          Back to login?\n        ")]),t._v(" "),n("v-spacer"),t._v(" "),n("v-btn",{attrs:{loading:t.loading,disabled:t.loading,color:"primary"},on:{click:function(e){return e.stopPropagation(),t.submit(t.form)}}},[t._v("\n          Send it now, please!\n        ")])],1)],1)],1)],1)}),[],!1,null,null,null).exports,K={},Y=Object(c.a)(K,(function(){var t=this.$createElement,e=this._self._c||t;return e("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[e("v-card",{staticClass:"elevation-12"},[e("v-toolbar",{attrs:{dark:"",color:"primary"}},[e("v-toolbar-title",[this._v("Forgot password")]),this._v(" "),e("v-spacer")],1),this._v(" "),e("v-card-text",[this._v("\n      Check your email.\n    ")]),this._v(" "),e("v-card-actions",[e("router-link",{attrs:{to:"/login"}},[this._v("\n        Back to login?\n      ")]),this._v(" "),e("v-spacer")],1)],1)],1)}),[],!1,null,null,null).exports,V={props:{redirectTo:{type:String,default:"/"}},data:function(){return{valid:!0,loading:!1,form:{},formErrors:{},generalError:""}},methods:{validate:function(t){this.$refs.form.validate()&&this.submit(t)},submit:function(t){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading=!0,this.formErrors={},this.generalError="",e.prev=3,e.next=6,s.a.awrap(this.$store.dispatch("USER_LOGIN",t));case 6:e.sent&&this.$router.push(this.redirectTo),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(3),this.loading=!1,console.warn(e.t0),this.generalError=(n=e.t0.data.errors)[0].constructor===String?n[0]:"";case 15:this.loading=!1;case 16:case"end":return e.stop()}var n}),null,this,[[3,10]])}}},Z={data:function(){return{valid:!0,loading:!1,form:{},formErrors:{}}},methods:{validate:function(t){this.$refs.form.validate()&&this.submit(t)},submit:function(t){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading=!0,this.formErrors={},e.prev=2,e.next=5,s.a.awrap(this.$store.dispatch("USER_CREATE",t));case 5:return e.sent,e.next=8,s.a.awrap(this.$store.dispatch("USER_LOGIN",t));case 8:e.sent&&this.$router.push("/createcompany"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.warn(e.t0),this.loading=!1;case 16:this.loading=!1;case 17:case"end":return e.stop()}}),null,this,[[2,12]])}}},X={mounted:function(){this.$store.dispatch("logoutUser")}},Q={data:function(){return{valid:!0,loading:!1,form:{},formErrors:{}}},created:function(){this.form={email:this.$route.query.u,secret:this.$route.query.secret}},methods:{submit:function(t){var e,n;return s.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.$refs.form.validate()){r.next=2;break}return r.abrupt("return");case 2:return this.loading=!0,this.formErrors={},r.prev=4,r.next=7,s.a.awrap(this.$store.dispatch("USER_CHANGEPASSWORD",t));case 7:r.next=14;break;case 9:r.prev=9,r.t0=r.catch(4),console.warn(r.t0),e=r.t0.errors,n=void 0===e?[]:e,this.formErrors=n;case 14:this.loading=!1;case 15:case"end":return r.stop()}}),null,this,[[4,9]])}}},tt=[{path:"/login",component:Object(c.a)(V,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[n("v-card",{staticClass:"elevation-12"},[n("v-toolbar",{attrs:{dark:"",color:"primary"}},[n("v-toolbar-title",[t._v("Login")]),t._v(" "),n("v-spacer")],1),t._v(" "),n("v-card-text",[n("v-alert",{attrs:{value:t.generalError,dismissible:"",color:"error"}},[t._v("\n        "+t._s(t.generalError)+"\n      ")])],1),t._v(" "),n("v-form",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.validate(t.form)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-card-text",[n("v-text-field",{attrs:{label:"Login",placeholder:"Login","error-messages":t.formErrors.email,rules:[function(t){return!!t||"Item is required"}],required:"","prepend-icon":"person",name:"login",type:"text"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),t._v(" "),n("v-text-field",{ref:"input",attrs:{id:"password",label:"Password","error-messages":t.formErrors.password||t.formErrors[0],placeholder:"Password",rules:[function(t){return!!t||"Item is required"}],required:"","prepend-icon":"lock",name:"password",type:"password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),n("v-card-actions",[n("router-link",{attrs:{to:"/forgot"}},[t._v("\n          Forgot password?\n        ")]),t._v(" "),n("v-spacer"),t._v(" "),n("v-btn",{attrs:{type:"submit",loading:t.loading,disabled:t.loading,color:"primary"}},[t._v("\n          Login\n        ")])],1)],1)],1)],1)}),[],!1,null,null,null).exports,meta:{layout:"LoginLayout",public:!0,onlyWhenLoggedOut:!0},props:{redirectTo:"/selectcompany"}},{path:"/create",component:Object(c.a)(Z,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[n("v-card",{staticClass:"elevation-12"},[n("v-toolbar",{attrs:{dark:"",color:"primary"}},[n("v-toolbar-title",[t._v("Create")]),t._v(" "),n("v-spacer")],1),t._v(" "),n("v-form",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.validate(t.form)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-card-text",[n("v-text-field",{attrs:{label:"Your email",placeholder:"e.g. abc@abc.com","error-messages":t.formErrors.email,rules:[function(t){return!!t||"Item is required"}],required:"","prepend-icon":"person",name:"login",type:"text"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),t._v(" "),n("v-text-field",{ref:"input",attrs:{id:"password",label:"Password","error-messages":t.formErrors.password||t.formErrors.body,placeholder:"Your secret password",rules:[function(t){return!!t||"Item is required"}],required:"","prepend-icon":"lock",name:"password",type:"password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),n("v-card-actions",[n("router-link",{attrs:{to:"/login"}},[t._v("\n          Already an account?\n        ")]),t._v(" "),n("v-spacer"),t._v(" "),n("v-btn",{attrs:{type:"submit",loading:t.loading,disabled:t.loading,color:"primary"}},[t._v("\n          Create account\n        ")])],1)],1)],1)],1)}),[],!1,null,null,null).exports,meta:{layout:"LoginLayout"}},{path:"/logout",component:Object(c.a)(X,(function(){var t=this.$createElement,e=this._self._c||t;return e("v-card",{staticClass:"elevation-5 text-xs-center"},[e("span",{staticClass:"headline"},[this._v("Bye Bye")]),e("br"),this._v(" "),e("span",{staticClass:"subheading"},[this._v("Till next time")]),e("br"),this._v(" "),e("v-btn",{attrs:{outlined:"",to:"/login"}},[this._v("\n    Go back to login\n  ")])],1)}),[],!1,null,null,null).exports,meta:{layout:"LoginLayout"}},{path:"/forgot",component:W,meta:{layout:"LoginLayout"}},{path:"/forgot/check",component:Y,meta:{layout:"LoginLayout"}},{path:"/reset/:secret",component:Object(c.a)(Q,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{staticStyle:{"min-height":"100%"},attrs:{"align-center":"","justify-center":""}},[n("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[n("v-card",{staticClass:"elevation-12"},[n("v-toolbar",{attrs:{dark:"",color:"primary"}},[n("v-toolbar-title",[t._v("Reset password")]),t._v(" "),n("v-spacer")],1),t._v(" "),n("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-card-text",[n("v-text-field",{attrs:{type:"password","error-messages":t.formErrors.password,rules:[function(t){return!!t||"Item is required"}],required:"","prepend-icon":"lock",label:"New password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),t._v(" "),n("v-text-field",{attrs:{type:"password","error-messages":t.formErrors.password2,rules:[function(t){return!!t||"Item is required"}],required:"","prepend-icon":"lock",label:"Repeat password"},model:{value:t.form.password2,callback:function(e){t.$set(t.form,"password2",e)},expression:"form.password2"}})],1),t._v(" "),n("v-card-actions",[n("router-link",{attrs:{to:"/login"}},[t._v("\n            Back to login?\n          ")]),t._v(" "),n("v-spacer"),t._v(" "),n("v-btn",{attrs:{loading:t.loading,disabled:t.loading,color:"primary"},on:{click:function(e){return e.stopPropagation(),t.submit(t.form)}}},[t._v("\n            Change password\n          ")])],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports,meta:{layout:"LoginLayout"}}];function et(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/plain",r=document.createElement("a");r.style.display="none",document.body.appendChild(r),r.href=window.URL.createObjectURL(new Blob([t],{type:n})),r.setAttribute("download",e),r.click(),window.URL.revokeObjectURL(r.href),document.body.removeChild(r)}var nt={data:function(){return{form:this.$store.state.settings}},created:function(){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:this.fetch();case 1:case"end":return t.stop()}}),null,this)},methods:{onInput:function(t){console.log("Drop",t),this.form=t},fetch:function(){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}))},exportProfile:function(){var t;return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:t={settings:this.$store.state.settings,types:this.$store.state.types},et(JSON.stringify(t,!0,2),"superadmin.json","text/json");case 3:case"end":return e.stop()}}),null,this)},submit:function(t){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),this.$store.commit("settings/set",t);case 2:case"end":return e.stop()}}),null,this)}}},rt=Object(c.a)(nt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-card",[n("v-container",[n("h1",[t._v("Settings")])]),t._v(" "),n("v-card-text",[n("v-form",{on:{submit:function(e){return e.preventDefault(),t.submit(t.form)}}},[n("v-text-field",{attrs:{label:"Server"},model:{value:t.form.server,callback:function(e){t.$set(t.form,"server",e)},expression:"form.server"}}),t._v(" "),n("v-text-field",{attrs:{hint:"Specify here the Authorization headers E.G: ApiKey <thekey> or Bearer <token>",label:"Authorization header"},model:{value:t.form.headers.Authorization,callback:function(e){t.$set(t.form.headers,"Authorization",e)},expression:"form.headers.Authorization"}}),t._v(" "),t.form.useTypesFromJson?[n("v-textarea",{attrs:{placeholder:"Paste here your types",label:"Types"},model:{value:t.form.types,callback:function(e){t.$set(t.form,"types",e)},expression:"form.types"}})]:t._e(),t._v(" "),n("v-row",{staticClass:"ma-0"},[n("v-btn",{staticClass:"primary",attrs:{type:"submit"}},[t._v("\n            Save\n          ")]),t._v(" "),n("v-spacer")],1)],2)],1)],1),t._v(" "),n("v-card",{staticClass:"mt-5"},[n("v-container",[n("div",{staticClass:"d-flex"},[n("h1",[t._v("Import / export")]),t._v(" "),n("v-spacer"),t._v(" "),n("v-btn",{attrs:{outlined:""},on:{click:t.exportProfile}},[t._v("\n          Export settings\n        ")])],1)]),t._v(" "),n("v-card-text",[n("v-form",{on:{submit:function(e){return e.preventDefault(),t.submit(t.form)}}},[n("v-row",{staticClass:"ma-0"},[n("Dropzone",{on:{input:t.onInput}}),t._v(" "),n("v-spacer")],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports,at={data:function(){return{form:{}}},methods:{submit:function(t){console.log(t),this.$emit("submit",t)}}};function it(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function st(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?it(Object(n),!0).forEach((function(e){ot(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ot(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ct={components:{Form:Object(c.a)(at,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-form",{on:{submit:function(e){return e.preventDefault(),t.submit(t.form)}}},[n("v-text-field",{attrs:{label:"Name"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),t._v(" "),n("v-btn",{staticClass:"primary",attrs:{type:"submit"}},[t._v("\n    Add\n  ")])],1)}),[],!1,null,null,null).exports},data:function(){return{ROW_KEY:u.a,items:[],loading:!1,selection:[],headers:[{value:"name"},{value:"description"},{value:"fields"}]}},computed:{breadcrumbs:function(){return[{text:"Typebuilder"}]}},created:function(){this.fetch()},methods:{fetch:function(){var t;return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=!0,e.next=4,s.a.awrap(this.$service.getAll("types"));case 4:t=e.sent,console.log(t),this.items=t;case 7:return e.prev=7,this.loading=!1,e.finish(7);case 10:case"end":return e.stop()}}),null,this,[[0,,7,10]])},clickImport:function(){var t,e,n=this,r=arguments;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:[],a.prev=1,this.loading=!0,e=t.map((function(t){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.$service.create("types",{attributes:[],name:t}));case 1:case"end":return e.stop()}}))})),a.next=6,s.a.awrap(Promise.all(e));case 6:return a.prev=6,this.loading=!1,a.finish(6);case 9:this.fetch();case 10:case"end":return a.stop()}}),null,this,[[1,,6,9]])},clickAutodetect:function(){var t,e,n=this,r=arguments;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:[],a.prev=1,this.loading=!0,e=t.map((function(t){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.autoDetect(t.name));case 1:case"end":return e.stop()}}))})),a.next=6,s.a.awrap(Promise.all(e));case 6:return a.prev=6,this.loading=!1,a.finish(6);case 9:this.fetch();case 10:case"end":return a.stop()}}),null,this,[[1,,6,9]])},submit:function(t){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=!0,e.next=4,s.a.awrap(this.$service.create("types",st({attributes:[]},t)));case 4:return e.prev=4,this.loading=!1,e.finish(4);case 7:this.fetch();case 8:case"end":return e.stop()}}),null,this,[[0,,4,7]])},autoDetect:function(t){var e,n,r,a,i;return s.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,this.loading=!0,o.next=4,s.a.awrap(this.$serviceFactory(t).getOne());case 4:return e=o.sent,n=e,r=Object.keys(n),a={attributes:r.map((function(t){return{name:t,editable:!0,type:"string"}}))},o.next=10,s.a.awrap(this.$serviceFactory("types").getOne({name:t}).then((function(t){return t._id})));case 10:return i=o.sent,o.next=13,s.a.awrap(this.$serviceFactory("types").putById(i,a));case 13:return o.abrupt("return",o.sent);case 16:o.prev=16,o.t0=o.catch(0),console.warn(o.t0),this.$snackbar("Something went wrong");case 20:return o.prev=20,this.loading=!1,o.finish(20);case 23:case"end":return o.stop()}}),null,this,[[0,16,20,23]])},getAttributes:function(t){return t.attributes||[]},rowClick:function(t){this.$router.push("/typebuilder/".concat(t.name))}}},lt=Object(c.a)(ct,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-breadcrumbs",{attrs:{items:t.breadcrumbs,divider:">"}}),t._v(" "),n("v-card",[n("v-card-title",{staticClass:"title"},[t._v("\n      "+t._s(t.items.length)+" content types are available\n      "),n("v-spacer"),t._v(" "),t.selection.length?n("div",[n("v-btn",{staticClass:"mx-1",attrs:{outlined:""},on:{click:function(e){return t.clickAutodetect(t.selection)}}},[t._v("\n          Autodetect\n        ")])],1):t._e(),t._v(" "),n("Toggle",{attrs:{label:"Add new type"}},[n("Form",{on:{submit:t.submit}}),t._v(" "),n("TypesAddMultiple",{on:{submit:t.clickImport}})],1)],1),t._v(" "),n("v-data-table",{attrs:{"show-select":"",items:t.items,headers:t.headers,"item-key":"name"},on:{"click:row":t.rowClick},scopedSlots:t._u([{key:"item.fields",fn:function(e){e.value;var n=e.item;return[t._v("\n        "+t._s(n.attributes?n.attributes.length:"?")+" field(s)\n      ")]}},{key:"item.actions",fn:function(t){t.value,t.item;return[n("v-switch",{attrs:{"hide-details":""}})]}}]),model:{value:t.selection,callback:function(e){t.selection=e},expression:"selection"}})],1)],1)}),[],!1,null,null,null).exports,ut={props:{value:{type:Object,default:function(){return{}}}},data:function(){return{form:this.value,loading:!1,items:[],targetColumnItems:[],relationTypes:[{text:"oneToOne"},{text:"manyToOne"}]}},computed:{_targetColumnItems:function(){var t=this.form.target,e=this.items.find((function(e){return e.name===t}));return console.log(t,e),e?e.attributes.map((function(t){return t.name})):[]}},watch:{value:function(t){this.form=t},form:{handler:function(t){console.log(t),this.$emit("input",t)},deep:!0}},created:function(){var t;return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=!0,e.next=4,s.a.awrap(this.$service.getAll("types"));case 4:t=e.sent,console.log(t),this.items=t;case 7:return e.prev=7,this.loading=!1,e.finish(7);case 10:case"end":return e.stop()}}),null,this,[[0,,7,10]])}},pt=Object(c.a)(ut,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",[n("v-col",[n("v-select",{attrs:{loading:t.loading,label:"With",items:t.items,"item-text":"name"},model:{value:t.form.target,callback:function(e){t.$set(t.form,"target",e)},expression:"form.target"}})],1),t._v(" "),n("v-col",[n("v-select",{attrs:{loading:t.loading,label:"Type",items:t.relationTypes,"item-text":"text"},model:{value:t.form.nature,callback:function(e){t.$set(t.form,"nature",e)},expression:"form.nature"}})],1),t._v(" "),n("v-col",[n("v-autocomplete",{attrs:{loading:t.loading,label:"Display key",items:t._targetColumnItems,"item-text":"name"},model:{value:t.form.targetColumnName,callback:function(e){t.$set(t.form,"targetColumnName",e)},expression:"form.targetColumnName"}})],1)],1)}),[],!1,null,null,null).exports,dt=[{text:"string",value:"string"},{text:"password",value:"password",description:"Will hash the field"},{text:"number",value:"number"},{text:"textarea",value:"textarea"},{text:"boolean",value:"boolean"},{text:"image",value:"image"},{text:"json",value:"json"},{text:"enum",value:"enum"},{text:"date",value:"date"},{text:"datetime",value:"datetime"},{text:"relation",value:"relation"}];function ft(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ft(Object(n),!0).forEach((function(e){mt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function mt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ht={components:{InputRelation:pt},props:{name:{type:String,default:""}},data:function(t){return{snackbar:!1,loading:!1,dialog:!1,TYPES:dt,form:{attributes:[]}}},computed:{_id:function(){return this.form[u.a]||this.form._id},breadcrumbs:function(){return[{text:"Typebuilder",disabled:!1,href:"#/typebuilder"},{text:this.name,disabled:!0}]},_attributes:function(){return this.form.attributes},_relations:function(){return this._attributes.filter((function(t){return t.target}))}},created:function(){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:this.fetch();case 1:case"end":return t.stop()}}),null,this)},methods:{fetch:function(){var t;return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=!0,e.next=4,s.a.awrap(this.$serviceFactory("types").getOne({name:this.name}));case 4:t=e.sent,console.log(t),this.form=vt({permissions:{public:[],authenticated:[]}},this.form,{},t,{attributes:t.attributes||[]}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.warn(e.t0),this.snackbar=!0;case 13:return e.prev=13,this.loading=!1,e.finish(13);case 16:case"end":return e.stop()}}),null,this,[[0,9,13,16]])},toggleEdit:function(t){console.log(t),this.dialog=!0},deleteItem:function(t){!function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}(this._attributes,t)},addField:function(){this._attributes.push({name:"",editable:!0,type:"string"})},edit:function(t){this.dialog=!0},saveChanges:function(t){var e;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(t),n.prev=1,this.loading=!0,n.next=5,s.a.awrap(this.$serviceFactory("types").putById(this._id,t));case 5:e=n.sent,console.log(e),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(1),console.warn(n.t0),this.$snackbar("Something went wrong","error");case 13:return n.prev=13,this.loading=!1,n.finish(13);case 16:case"end":return n.stop()}}),null,this,[[1,9,13,16]])},deleteType:function(t){var e;return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,s.a.awrap(this.$serviceFactory("types").deleteById(this._id));case 4:e=t.sent,console.log(e);case 6:return t.prev=6,this.loading=!1,t.finish(6);case 9:case"end":return t.stop()}}),null,this,[[0,,6,9]])},autoDetect:function(){var t,e,n;return s.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,this.loading=!0,r.next=4,s.a.awrap(this.$serviceFactory(this.name).getOne());case 4:t=r.sent,e=t,n=Object.keys(e),this.form.attributes=n.map((function(t){return{name:t,editable:!0,type:"string"}})),console.log(t),r.next=15;break;case 11:r.prev=11,r.t0=r.catch(0),console.warn(r.t0),this.$snackbar("Something went wrong");case 15:return r.prev=15,this.loading=!1,r.finish(15);case 18:case"end":return r.stop()}}),null,this,[[0,11,15,18]])},createTable:function(){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,s.a.awrap(this.$service.fetch("/_tasks/create/".concat(this.name),{method:"GET"}));case 4:t.sent,this.$emit("success");case 6:return t.prev=6,this.loading=!1,this.$emit("input",!1),t.finish(6);case 10:case"end":return t.stop()}}),null,this,[[0,,6,10]])},dropTable:function(){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,s.a.awrap(this.$service.fetch("/_tasks/drop/".concat(this.name),{method:"GET"}));case 4:t.sent,this.$emit("success");case 6:return t.prev=6,this.loading=!1,this.$emit("input",!1),t.finish(6);case 10:case"end":return t.stop()}}),null,this,[[0,,6,10]])}}};n(56);function bt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function gt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var yt=[{path:"/typebuilder",component:lt,props:!0},{path:"/typebuilder/:name",component:Object(c.a)(ht,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-row",[n("v-breadcrumbs",{attrs:{items:t.breadcrumbs,divider:">"}}),t._v(" "),n("v-spacer"),t._v(" "),n("span",{staticClass:"ma-1"},[t._v("Admin")]),t._v(" "),n("v-btn",{staticClass:"mx-2",attrs:{loading:t.loading},on:{click:t.createTable}},[t._v("\n      create table\n    ")]),t._v(" "),n("v-btn",{staticClass:"mx-2 error",attrs:{loading:t.loading},on:{click:t.dropTable}},[t._v("\n      drop table\n    ")])],1),t._v(" "),n("small",[t._v("\n    name: "+t._s(t.form.name)+" /\n    #"+t._s(t._id)+"\n  ")]),t._v(" "),n("v-card",[n("v-card-title",[n("div",[t._v("\n        "+t._s(t._attributes&&t._attributes.length)+" fields including "+t._s(t._relations.length)+" relationships\n        ")]),t._v(" "),n("v-spacer"),t._v(" "),n("v-btn",{staticClass:"primary",on:{click:function(e){return t.saveChanges(t.form)}}},[t._v("\n        Save changes\n      ")]),t._v(" "),n("v-btn",{staticClass:"mx-2 error",on:{click:function(e){return t.deleteType(t.form)}}},[t._v("\n        Delete type\n      ")])],1),t._v(" "),t.loading?n("Loader"):t._e(),t._v(" "),t._attributes.length?t._e():[n("center",[n("p",[t._v("No fields have been added.")]),t._v(" "),n("p",[t._v("If the table has already data in it use autodetect.")]),t._v(" "),n("v-btn",{staticClass:"ma-2",attrs:{outlined:""},on:{click:t.autoDetect}},[t._v("\n          Autodetect\n        ")])],1)],t._v(" "),t._l(t._attributes||[],(function(e,r){return[n("div",{key:r},[n("v-list-item",{staticClass:"reveal-on-hover"},[n("v-row",{staticClass:"ma-0"},[e.editable?[n("v-col",{attrs:{xs4:""}},[n("v-text-field",{attrs:{label:"Name",placeholder:"Add new field","hide-details":""},model:{value:e.name,callback:function(n){t.$set(e,"name",n)},expression:"item.name"}})],1),t._v(" "),n("v-col",{attrs:{cols:"6"}},[n("div",{staticClass:"d-flex"},[n("v-select",{attrs:{label:"Type",items:t.TYPES},model:{value:e.type,callback:function(n){t.$set(e,"type",n)},expression:"item.type"}})],1),t._v(" "),"relation"===e.type?[n("InputRelation",{model:{value:t._attributes[r],callback:function(e){t.$set(t._attributes,r,e)},expression:"_attributes[index]"}})]:t._e()],2)]:[n("v-col",{attrs:{xs4:""}},[t._v("\n                "+t._s(e.name)+"\n              ")]),t._v(" "),n("v-col",{attrs:{cols:"6"}},[e.type?n("div",[t._v("\n                  "+t._s(e.type||"-")+"\n                ")]):n("div",[t._v("\n                  Relation with "+t._s(e.target)+" ("+t._s(e.key)+")\n                ")])])],t._v(" "),n("v-col",{attrs:{xs2:""}},[n("v-btn",{staticClass:"hide-by-default",attrs:{icon:""},on:{click:function(n){return t.deleteItem(e)}}},[n("v-icon",[t._v("close")])],1)],1)],2)],1),t._v(" "),n("v-divider")],1)]})),t._v(" "),n("v-btn",{staticClass:"ma-2",attrs:{outlined:""},on:{click:t.addField}},[t._v("\n      Add another field\n    ")])],2)],1)}),[],!1,null,null,null).exports,props:function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bt(Object(n),!0).forEach((function(e){gt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t.params)}}];function _t(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var xt={components:{},props:{typeSlug:{type:String,default:"users"},typeId:{type:String,default:""}},data:function(){return{customizedHeaders:[],showColumnSelector:!1,baseUrl:"",type:{},items:[],totalItems:0,loading:!1,headers:[],options:{}}},computed:{_items:function(){return this.items},_headers:function(){var t=this.customizedHeaders;return t.length?t:this._headersAll},_headersAll:function(){return _t(this.headers.map((function(t){return{text:t.name,value:t.name}})))},breadcrumbs:function(){return[{text:"Content",disabled:!1,href:"#/content"},{text:this.typeSlug,disabled:!0}]}},watch:{$route:function(t,e){"table"===t.name&&this.fetch()},options:{handler:function(t){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.awrap(this.fetch(t));case 2:case"end":return e.stop()}}),null,this)},deep:!0}},methods:{getHeadersAndSetType:function(){var t;return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=!0,e.next=4,s.a.awrap(this.$serviceFactory("types").getOne({name:this.typeSlug}));case 4:return t=e.sent,this.type=t,e.abrupt("return",t.attributes);case 9:e.prev=9,e.t0=e.catch(0),console.warn(e.t0),this.$router.push("/");case 13:return e.prev=13,this.loading=!1,e.finish(13);case 16:case"end":return e.stop()}}),null,this,[[0,9,13,16]])},rowClick:function(t){var e=t[this.type.key||u.a];this.$router.push("/content/".concat(this.typeSlug,"/edit/").concat(e))},fetch:function(){var t,e,n,r,a,i,o=arguments;return s.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},c.next=3,s.a.awrap(this.getHeadersAndSetType());case 3:return e=c.sent,this.headers=e,console.log(t),n={_start:(t.page-1)*t.itemsPerPage,_limit:t.itemsPerPage},c.prev=7,this.loading=!0,c.next=11,s.a.awrap(this.$service.getWithTotalItems(this.typeSlug,n));case 11:r=c.sent,a=r.items,i=r.totalItems,this.totalItems=i,this.items=a;case 15:return c.prev=15,this.loading=!1,c.finish(15);case 18:case"end":return c.stop()}}),null,this,[[7,,15,18]])},onColumnInput:function(t){this.customizedHeaders=t}}},wt=Object(c.a)(xt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("router-view"),t._v(" "),t._t("default"),t._v(" "),n("v-row",{staticClass:"ma-0"},[n("v-breadcrumbs",{attrs:{items:t.breadcrumbs,divider:">"}}),t._v(" "),n("v-spacer"),t._v(" "),n("v-btn",{attrs:{outlined:"",to:"/typebuilder/"+t.typeSlug+"/"+t.typeId}},[t._v("\n      Edit\n    ")])],1),t._v(" "),n("v-card",[n("v-row",{staticClass:"ma-0 pa-3"},[n("v-btn",{staticClass:"primary",attrs:{to:"/content/"+t.typeSlug+"/new"}},[t._v("\n        New item\n      ")]),t._v(" "),n("v-btn",{staticClass:"mx-2",attrs:{icon:""},on:{click:function(e){return t.fetch()}}},[n("v-icon",[t._v("refresh")])],1),t._v(" "),n("v-spacer"),t._v(" "),n("v-dialog",{attrs:{width:500},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({staticClass:"mx-2",attrs:{outlined:""}},r),[t._v("\n            Columns\n          ")])]}}]),model:{value:t.showColumnSelector,callback:function(e){t.showColumnSelector=e},expression:"showColumnSelector"}},[t._v(" "),n("v-card",{staticClass:"pa-2"},[n("ColumnSelector",{attrs:{headers:t._headersAll},on:{input:t.onColumnInput},model:{value:t.customizedHeaders,callback:function(e){t.customizedHeaders=e},expression:"customizedHeaders"}})],1)],1)],1),t._v(" "),n("v-data-table",{attrs:{loading:t.loading,headers:t._headers,items:t.loading?[]:t._items,"server-items-length":t.totalItems,options:t.options},on:{"update:options":function(e){t.options=e},"click:row":t.rowClick}})],1)],2)}),[],!1,null,null,null).exports,Ot={components:{},props:{typeSlug:{type:String,default:"users"}},data:function(){return{baseUrl:"",type:{},items:[],loading:!1,headers:[]}},created:function(){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:this.fetch();case 1:case"end":return t.stop()}}),null,this)},methods:{fetch:function(){var t;return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=!0,e.next=4,s.a.awrap(this.$service.get("types"));case 4:t=e.sent,this.items=t,e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.warn(e.t0),this.$router.push("/");case 12:return e.prev=12,this.loading=!1,e.finish(12);case 15:case"end":return e.stop()}}),null,this,[[0,8,12,15]])}}},kt=Object(c.a)(Ot,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("h1",[t._v("All content")]),t._v(" "),n("Grid",{attrs:{items:t.items,loading:t.loading},scopedSlots:t._u([{key:"card",fn:function(e){var r=e.item;return[n("v-card",{attrs:{to:"/content/"+r.name}},[n("v-card-title",[t._v("\n          "+t._s(r.name)+"\n        ")])],1)]}}])})],1)}),[],!1,null,null,null).exports,jt=n(15),St={props:{value:{type:String,default:""}},data:function(){return{date:this.value,menu:!1}},watch:{date:function(t){this.$emit("input",t)},value:function(t){this.date=t}}},$t=Object(c.a)(St,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-text-field",t._g(t._b({attrs:{"prepend-icon":"event",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},"v-text-field",t.$props,!1),r))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t._v(" "),n("v-date-picker",{on:{input:function(e){t.menu=!1}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)}),[],!1,null,null,null).exports,Et={props:{value:{type:String,default:""}},data:function(){return{time:null,date:null,menu:!1,menu2:!1,modal2:!1}}},Pt=Object(c.a)(Et,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("\n  "+t._s(t.date)+"\n  "+t._s(t.time)+"\n  "),n("v-row",{staticClass:"ma-0"},[n("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-text-field",t._g(t._b({attrs:{"prepend-icon":"event",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},"v-text-field",t.$attrs,!1),r))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[t._v(" "),n("v-date-picker",{on:{input:function(e){t.menu=!1}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),t._v(" "),n("v-menu",{ref:"menu2",attrs:{"close-on-content-click":!1,"return-value":t.time,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(e){t.time=e},"update:return-value":function(e){t.time=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-text-field",t._g(t._b({attrs:{"prepend-icon":"access_time",readonly:"",value:t.time}},"v-text-field",t.$attrs,!1),r))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[t._v(" "),t.menu2?n("v-time-picker",{attrs:{"full-width":""},on:{"click:minute":function(e){return t.$refs.menu2.save(t.time)}},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}}):t._e()],1)],1)],1)}),[],!1,null,null,null).exports,Ct={props:{value:{type:String,default:""},nature:{type:String,default:""},target:{type:String,default:""},targetColumnName:{type:String,default:"name"}},data:function(){return{loading:!1,items:[]}},created:function(){var t,e;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.loading=!0,t=this.target,n.next=5,s.a.awrap(this.$service.getAll(t));case 5:e=n.sent,this.items=e;case 7:return n.prev=7,this.loading=!1,n.finish(7);case 10:case"end":return n.stop()}}),null,this,[[0,,7,10]])}},Dt={components:{InputDate:$t,InputDateTime:Pt,InputSelectRelation:Object(c.a)(Ct,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-select",t._b({attrs:{value:t.value,loading:t.loading,items:t.items,multiple:"manyToOne"===t.nature,"item-value":"id","item-text":t.targetColumnName||"name"},on:{input:function(e){return t.$emit("input",e)}}},"v-select",t.$attrs,!1))],1)}),[],!1,null,null,null).exports},props:{name:{type:String,default:"collections"},title:{type:String,default:"No title"},value:{type:Boolean,default:!0},form:{type:Object,default:function(){return{}}},fields:{type:Array,default:function(){return[{name:"name",type:"string",minLength:3,unique:!0,configurable:!1,required:!0}]}}},data:function(){return{rules:{required:function(t){return!!t||"Required."},counter:function(t){return t.length<=20||"Max 20 characters"},email:function(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)||"Invalid e-mail."}},loading:!1}},computed:{options:function(){return this.form}},methods:{getRules:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return t.rules[e]}))}}};function It(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Tt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var At={components:{DynamicForm:Object(c.a)(Dt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._l(t.fields,(function(e,r){return n("div",{key:r},["string"===e.type?[n("v-text-field",t._b({attrs:{autocomplete:"new-password",label:e.label||e.name,rules:t.getRules(e.rules)},model:{value:t.options[e.name],callback:function(n){t.$set(t.options,e.name,n)},expression:"options[field.name]"}},"v-text-field",e,!1))]:"number"===e.type?[n("v-text-field",t._b({attrs:{label:e.label||e.name,rules:t.getRules(e.rules),type:"number"},model:{value:t.options[e.name],callback:function(n){t.$set(t.options,e.name,n)},expression:"options[field.name]"}},"v-text-field",e,!1))]:"textarea"===e.type?[n("v-textarea",t._b({attrs:{label:e.label||e.name,rules:t.getRules(e.rules)},model:{value:t.options[e.name],callback:function(n){t.$set(t.options,e.name,n)},expression:"options[field.name]"}},"v-textarea",e,!1))]:"boolean"===e.type?[n("v-switch",{attrs:{label:e.label||e.name,rules:t.getRules(e.rules)},model:{value:t.options[e.name],callback:function(n){t.$set(t.options,e.name,n)},expression:"options[field.name]"}})]:"image"===e.type?[n("v-text-field",t._b({attrs:{label:e.label||e.name,type:"text",rules:t.getRules(e.rules)},model:{value:t.options[e.name],callback:function(n){t.$set(t.options,e.name,n)},expression:"options[field.name]"}},"v-text-field",e,!1))]:"json"===e.type?[n("v-textarea",t._b({attrs:{label:e.label||e.name,rules:t.getRules(e.rules)},model:{value:t.options[e.name],callback:function(n){t.$set(t.options,e.name,n)},expression:"options[field.name]"}},"v-textarea",e,!1))]:"enum"===e.type?[n("v-select",t._b({attrs:{items:e.enum.map((function(t){return{value:t,text:t}})),label:e.label||e.name,rules:t.getRules(e.rules)},model:{value:t.options[e.name],callback:function(n){t.$set(t.options,e.name,n)},expression:"options[field.name]"}},"v-select",e,!1))]:"date"===e.type?[n("InputDate",t._b({attrs:{label:e.label||e.name,rules:t.getRules(e.rules)},model:{value:t.options[e.name],callback:function(n){t.$set(t.options,e.name,n)},expression:"options[field.name]"}},"InputDate",e,!1))]:"datetime"===e.type?[n("InputDateTime",t._b({attrs:{label:e.label||e.name,rules:t.getRules(e.rules)},model:{value:t.options[e.name],callback:function(n){t.$set(t.options,e.name,n)},expression:"options[field.name]"}},"InputDateTime",e,!1))]:"relation"===e.type||e.target?[n("InputSelectRelation",t._b({attrs:{label:e.label||e.name},model:{value:t.options[e.name],callback:function(n){t.$set(t.options,e.name,n)},expression:"options[field.name]"}},"InputSelectRelation",e,!1))]:[n("v-text-field",t._b({attrs:{autocomplete:"new-password",label:e.label||e.name,rules:t.getRules(e.rules)},model:{value:t.options[e.name],callback:function(n){t.$set(t.options,e.name,n)},expression:"options[field.name]"}},"v-text-field",e,!1))]],2)})),t._v(" "),n("v-btn",{staticClass:"d-none",attrs:{type:"submit"}},[t._v("\n    Apply\n  ")])],2)}),[],!1,null,null,null).exports,BaseDialog:jt.default},props:{id:{type:String,default:null},typeSlug:{type:String,default:"notset"},typeId:{type:String,default:null}},data:function(){return{loading:!1,fields:[],form:{},type:{}}},computed:{_name:function(){return this.typeSlug},_id:function(){return this.form[this.type.key||u.a]},_fields:function(){return this.type.attributes?this.type.attributes.map((function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?It(Object(n),!0).forEach((function(e){Tt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({name:t.name},t)})):[]}},watch:{$route:function(t,e){this.fetch()}},created:function(){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:this.fetch();case 1:case"end":return t.stop()}}),null,this)},methods:{fetch:function(){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.awrap(this.fetchFields());case 2:t.sent,this.id&&this.fetchData(this.id);case 4:case"end":return t.stop()}}),null,this)},fetchFields:function(){var t;return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=!0,e.next=4,s.a.awrap(this.$serviceFactory("types").getOne({name:this.typeSlug}));case 4:return t=e.sent,this.type=t,e.abrupt("return",t);case 7:return e.prev=7,this.loading=!1,e.finish(7);case 10:case"end":return e.stop()}}),null,this,[[0,,7,10]])},fetchData:function(t){var e;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.loading=!0,n.next=4,s.a.awrap(this.$serviceFactory(this.typeSlug).getById(t,{params:{}}));case 4:e=n.sent,this.form=e;case 6:return n.prev=6,this.loading=!1,n.finish(6);case 9:case"end":return n.stop()}}),null,this,[[0,,6,9]])},validate:function(t){this.$refs.form.validate()&&this.submit(t)},deleteItem:function(t){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.awrap(this.$serviceFactory(this.typeSlug).delete("/".concat(this.typeSlug,"/").concat(t[this.type.key||u.a]),t));case 3:e.sent,this.$router.push("/content/".concat(this.typeSlug)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn(e.t0);case 10:return e.prev=10,e.finish(10);case 12:case"end":return e.stop()}}),null,this,[[0,7,10,12]])},submit:function(t){var e;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.loading=!0,n.next=4,s.a.awrap(this.$serviceFactory(this.typeSlug).createOrUpdateById(this._id,t));case 4:e=n.sent,console.log(e),this.$emit("success"),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),alert("Ai, something went wrong",n.t0);case 12:return n.prev=12,this.loading=!1,n.finish(12);case 15:case"end":return n.stop()}}),null,this,[[0,9,12,15]])}}},Bt=Object(c.a)(At,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("BaseDialog",{attrs:{title:"Add / edit "+t._name+" (#"+t._id+")",value:!0},on:{input:function(e){return t.$router.push("/content/"+t._name)}},scopedSlots:t._u([{key:"actions",fn:function(){return[n("v-btn",{attrs:{loading:t.loading,color:"error",text:""},on:{click:function(e){return t.deleteItem(t.form)}}},[t._v("\n        Delete\n      ")]),t._v(" "),n("v-spacer"),t._v(" "),n("v-btn",{attrs:{loading:t.loading,color:"primary",text:"",type:"submit"},on:{click:function(e){return t.validate(t.form)}}},[t._v("\n        Apply\n      ")])]},proxy:!0}])},[n("v-form",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.validate(t.form)}}},[n("DynamicForm",{attrs:{value:!0,fields:t._fields,form:t.form}})],1)],1)],1)}),[],!1,null,null,null).exports;function Rt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Lt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Rt(Object(n),!0).forEach((function(e){Nt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Nt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ut=[{path:"/content",component:kt,props:!0},{name:"table",path:"/content/:typeSlug",component:wt,props:function(t){return Lt({},t.params)},children:[{path:"edit/:id",component:Bt,props:function(t){return Lt({},t.params)}},{path:"new",component:Bt,props:function(t){return Lt({},t.params)}}]}],Ft={data:function(){return{form:{}}},methods:{submit:function(t){console.log(t),this.$emit("submit",t)}}};function Gt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function zt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Gt(Object(n),!0).forEach((function(e){Mt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Mt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qt={components:{Form:Object(c.a)(Ft,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-form",{on:{submit:function(e){return e.preventDefault(),t.submit(t.form)}}},[n("v-text-field",{attrs:{label:"Name"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),t._v(" "),n("v-btn",{staticClass:"primary",attrs:{type:"submit"}},[t._v("\n    Add\n  ")])],1)}),[],!1,null,null,null).exports},data:function(){return{ROW_KEY:u.a,items:[],loading:!1}},computed:{breadcrumbs:function(){return[{text:"Typebuilder"}]}},created:function(){this.fetch()},methods:{fetch:function(){var t;return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=!0,e.next=4,s.a.awrap(this.$service.getAll("roles"));case 4:t=e.sent,console.log(t),this.items=t;case 7:return e.prev=7,this.loading=!1,e.finish(7);case 10:case"end":return e.stop()}}),null,this,[[0,,7,10]])},submit:function(t){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=!0,e.next=4,s.a.awrap(this.$service.create("roles",zt({attributes:[]},t)));case 4:return e.prev=4,this.loading=!1,e.finish(4);case 7:this.fetch();case 8:case"end":return e.stop()}}),null,this,[[0,,4,7]])},getAttributes:function(t){return t.attributes||[]}}},Ht=Object(c.a)(qt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-breadcrumbs",{attrs:{items:t.breadcrumbs,divider:">"}}),t._v(" "),n("v-card",[n("v-card-title",{staticClass:"title"},[t._v("\n      "+t._s(t.items.length)+" roles are available\n      "),n("v-spacer"),t._v(" "),n("Toggle",{attrs:{label:"Add new role"}},[n("Form",{on:{submit:t.submit}})],1)],1),t._v(" "),t._l(t.items,(function(e,r){return n("v-list-item",{key:r,attrs:{to:"/roles/"+e.name}},[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs4:""}},[t._v("\n          "+t._s(e.name)+"\n        ")]),t._v(" "),n("v-flex",{attrs:{xs4:""}},[t._v("\n          "+t._s(e.description||"-")+"\n        ")]),t._v(" "),n("v-flex",{attrs:{xs4:""}},[t._v("\n          "+t._s(e.attributes?e.attributes.length:"?")+" field(s)\n        ")])],1)],1)}))],2)],1)}),[],!1,null,null,null).exports,Jt=[{text:"string",value:"string"},{text:"number",value:"number"},{text:"textarea",value:"textarea"},{text:"boolean",value:"boolean"},{text:"image",value:"image"},{text:"json",value:"json"},{text:"enum",value:"enum"},{text:"date",value:"date"},{text:"datetime",value:"datetime"},{text:"relation",value:"relation"}],Wt={props:{name:{type:String,default:""}},data:function(t){return{snackbar:!1,loading:!1,dialog:!1,TYPES:Jt,form:{attributes:[]},permissions:[],users:[]}},computed:{_id:function(){return this.form[u.a]},breadcrumbs:function(){return[{text:"roles",disabled:!1,href:"#/roles"},{text:this.name,disabled:!0}]}},created:function(){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:this.fetch();case 1:case"end":return t.stop()}}),null,this)},methods:{fetch:function(){var t;return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=!0,e.next=4,s.a.awrap(this.$serviceFactory("roles").getOne({name:this.name}));case 4:return t=e.sent,e.next=7,s.a.awrap(this.$serviceFactory("users").getAll({role:t.id}));case 7:this.users=e.sent,this.form=t,e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.warn(e.t0),this.snackbar=!0;case 15:return e.prev=15,this.loading=!1,e.finish(15);case 18:case"end":return e.stop()}}),null,this,[[0,11,15,18]])},deleteItem:function(t){!function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}(this._attributes,t)},addField:function(){this._attributes.push({name:"",editable:!0,type:"string"})},edit:function(t){this.dialog=!0},saveChanges:function(t){var e;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(t),n.prev=1,this.loading=!0,n.next=5,s.a.awrap(this.$serviceFactory("roles").putById(this._id,t));case 5:e=n.sent,console.log(e);case 7:return n.prev=7,this.loading=!1,n.finish(7);case 10:case"end":return n.stop()}}),null,this,[[1,,7,10]])},deleteType:function(t){var e;return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,s.a.awrap(this.$serviceFactory("roles").deleteById(this._id));case 4:e=t.sent,console.log(e);case 6:return t.prev=6,this.loading=!1,t.finish(6);case 9:case"end":return t.stop()}}),null,this,[[0,,6,9]])}}};function Kt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Yt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Vt=[{path:"/roles",component:Ht,props:!0},{path:"/roles/:name",component:Object(c.a)(Wt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-snackbar",{attrs:{timeout:5e3},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n    Something went wrong\n    "),n("v-btn",{attrs:{dark:"",text:""},nativeOn:{click:function(e){t.snackbar=!1}}},[t._v("\n      Close\n    ")])],1),t._v(" "),n("v-row",[n("v-breadcrumbs",{attrs:{items:t.breadcrumbs,divider:">"}}),t._v(" "),n("v-spacer"),t._v(" "),n("v-btn",{staticClass:"primary",on:{click:function(e){return t.saveChanges(t.form)}}},[t._v("\n      Save changes\n    ")]),t._v(" "),n("v-btn",{staticClass:"mx-2 error",on:{click:function(e){return t.deleteType(t.form)}}},[t._v("\n      Delete type\n    ")])],1),t._v(" "),n("v-data-table",{attrs:{headers:[{value:"email",text:"Email"}],items:t.users}}),t._v(" "),t._l(t.permissions||[],(function(e,r){return[n("v-card",{staticClass:"mt-5"},[n("v-card-title",[n("div",[t._v("\n          Roles & permissions ("+t._s(e.text)+")\n        ")]),t._v(" "),n("v-spacer")],1),t._v("\n      "+t._s(t.form.permissions[e.text])+"\n      "),n("TypePermissions",{model:{value:t.form.permissions[e.text],callback:function(n){t.$set(t.form.permissions,e.text,n)},expression:"form.permissions[role.text]"}})],1)]})),t._v("\n\n  "+t._s(t.form.permissions)+"\n\n  ")],2)}),[],!1,null,null,null).exports,props:function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Kt(Object(n),!0).forEach((function(e){Yt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t.params)}}];function Zt(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Xt=[].concat(Zt(tt),[{path:"/",redirect:"/settings"}],Zt(Ut),[{text:"Themes",path:"/themes",component:L,props:function(t){return{name:"themes"}}}],Zt(B),Zt(F),Zt([{path:"/media",component:{template:'<CollectionList v-bind="$attrs"/>'},props:function(t){return{name:"media"}}}]),Zt(yt),Zt(Vt),[{path:"/settings",component:rt,props:!0},{path:"*",component:h,props:!0}]),Qt=n(20);a.a.use(Qt.a);var te=new Qt.a({routes:Xt,linkActiveClass:"active"}),ee=n(21);function ne(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function re(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ae={state:{dark:!1,errors:[],snackbar:{show:!1,color:"error",text:"Oops",title:"Server error"}},getters:{},actions:{UI_SERVER_ERROR:function(t){var e=t.commit,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Something went wrong, try again later.";e("UI_MESSAGE",{text:n,color:"error",modal:!0})},UI_MESSAGE:function(t,e){(0,t.commit)("UI_MESSAGE",e)},UI_ERROR_MESSAGE:function(t,e){(0,t.commit)("UI_MESSAGE",{text:e,color:"error"})},UI_ERROR_MESSAGE_MODAL:function(t,e){(0,t.commit)("UI_MESSAGE",{text:e,modal:!0})},UI_MESSAGE_MODAL:function(t,e){(0,t.commit)("UI_MESSAGE",function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ne(Object(n),!0).forEach((function(e){re(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e,{modal:!0}))}},mutations:{LOADING:function(t){t.loading=!0},LOADING_DONE:function(t){t.loading=!1},THEME:function(t,e){window.localStorage.setItem("theme",e?"dark":"light"),t.dark=!!e},UI_MESSAGE:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.title,r=void 0===n?"Server error":n,a=e.text,i=void 0===a?"":a,s=e.color,o=e.modal,c=void 0!==o&&o,l=e.timeout,u=void 0===l?5e3:l;t.snackbar={title:r,show:!0,color:s,text:i,modal:c,timeout:u}}}};function ie(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function se(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ie(Object(n),!0).forEach((function(e){oe(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function oe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ce=function(t){return se({},t)},le=window.localStorage,ue={state:{user:ce(H.currentTokenData()),company:JSON.parse(le.getItem("company"))||{}},getters:{getUser:function(t){return t.user}},mutations:{SET_USER:function(t,e){t.user=ce(e)},SET_COMPANY:function(t,e){t.company=e,le.setItem("company",JSON.stringify(e))}},actions:{SET_COMPANY:function(t,e){t.commit("SET_COMPANY",e)},SET_USER:function(t,e){t.commit("SET_USER",e)},USER_CREATE:function(t,e){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",H.signup(e));case 1:case"end":return t.stop()}}))},USER_LOGIN:function(t,e){var n,r;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.a.awrap(H.login(e));case 2:return n=a.sent,r=H.parseJwt(n.access_token),t.commit("SET_USER",se({username:e.username||e.email},r)),a.abrupt("return",r);case 6:case"end":return a.stop()}}))},logoutUser:function(t,e){H.logout(),t.commit("SET_USER",null)}}},pe=n(34);a.a.use(ee.a);var de=new ee.a.Store({modules:{UI:ae,UserStore:ue,settings:{namespaced:!0,state:{headers:{Authorization:""},server:"",apiKey:""},mutations:{set:function(t,e){Object.assign(t,e)}}},types:{namespaced:!0,state:{items:[]},mutations:{set:function(t,e){t.items=e}}}},state:{},actions:{},getters:{},mutations:{},plugins:[Object(pe.a)()]}),fe=n(14),ve=n.n(fe),me=n(35),he=n.n(me),be=n(83);be.keys().forEach((function(t){var e=be(t),n=ve()(he()(t.replace(/^.*[\\/]/,"").replace(/\.\w+$/,"")));a.a.component(n,e.default||e)}));var ge=n(22),ye=n.n(ge);n(88);a.a.use(ye.a);var _e=new ye.a({theme:{dark:!0},icons:{iconfont:"mdi"}});function xe(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var s,o=t[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(c){a=!0,i=c}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function we(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Oe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?we(Object(n),!0).forEach((function(e){ke(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ke(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var je=function(t){return Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")};function Se(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $e(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Se(Object(n),!0).forEach((function(e){Ee(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ee(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Pe=function(t){return Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")};a.a.prototype.$service=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{fetchRaw:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{method:"GET"},r=t.server,a=void 0===r?window.server||"http://localhost:8666/api":r,i=t.headers,s=void 0===i?"":i;return fetch("".concat(a).concat(e),Oe({},n,{headers:Oe({"Content-Type":"application/json"},s)}))},fetch:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{method:"GET"};return this.fetchRaw(t,e).then((function(t){return t.json()}))},getCollectionById:function(t){return this.fetch("/collections/".concat(t),{method:"GET"})},getCollectionByName:function(t){return this.fetch("/collections?name=".concat(t),{method:"GET"}).then((function(t){return t[0]}))},getCollectionSchemaByName:function(t){var e,n,r;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.a.awrap(this.getCollectionByName(t).then((function(t){return t.schemaJson})));case 2:return e=a.sent,n=Object.entries(e),console.log(n),r=n.map((function(t){var e=xe(t,2);return Oe({name:e[0]},e[1])})),a.abrupt("return",r);case 7:case"end":return a.stop()}}),null,this)},getAll:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetch("/".concat(t,"?").concat(je(e)),{method:"GET"})},getOne:function(t){var e,n,r=arguments;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=r.length>1&&void 0!==r[1]?r[1]:{},a.next=3,s.a.awrap(this.fetch("/".concat(t,"?").concat(je(e)),{method:"GET"}));case 3:return n=a.sent,a.abrupt("return",n[0]);case 5:case"end":return a.stop()}}),null,this)},getWithTotalItems:function(t){var e,n,r,a,i=arguments;return s.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e=i.length>1&&void 0!==i[1]?i[1]:{},o.next=3,s.a.awrap(this.fetchRaw("/".concat(t,"?").concat(je(e)),{method:"GET"}));case 3:return n=o.sent,console.log(n),o.next=7,s.a.awrap(n.json());case 7:return r=o.sent,a=n.headers.get("X-Total-Count")||999,n.headers.forEach((function(t,e){console.log(e+" -> "+t)})),console.log(r,a),o.abrupt("return",{items:r,totalItems:a});case 12:case"end":return o.stop()}}),null,this)},getById:function(t,e){return this.fetch("/".concat(t,"/").concat(e),{method:"GET"})},createOrUpdateById:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return console.log(e),e?this.updateById(t,e,n):this.create(t,n)},create:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetch("/".concat(t),{method:"POST",body:JSON.stringify(e)})},updateById:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.fetch("/".concat(t,"/").concat(e),{method:"PATCH",body:JSON.stringify(n)})},putById:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.fetch("/".concat(t,"/").concat(e),{method:"PATCH",body:JSON.stringify(n)})},deleteById:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.fetch("/".concat(t,"/").concat(e),{method:"DELETE"})}}}(de.state.settings),a.a.prototype.$serviceFactory=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e){return{fetch:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{method:"GET"},r=t.server,a=void 0===r?window.server||"http://localhost:8666/api":r,i=t.headers,s=void 0===i?"":i;return fetch("".concat(a).concat(e),$e({},n,{headers:$e({"Content-Type":"application/json"},s)})).then((function(t){return t.json()}))})),getAll:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fetch("/".concat(e,"?").concat(Pe(t)),{method:"GET"})},getOne:function(){var t,n,r=arguments;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},a.next=3,s.a.awrap(this.fetch("/".concat(e,"?").concat(Pe(t)),{method:"GET"}));case 3:return n=a.sent,a.abrupt("return",n[0]);case 5:case"end":return a.stop()}}),null,this)},getWithTotalItems:function(){var t,n,r=arguments;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},a.next=3,s.a.awrap(this.fetch("/".concat(e,"?").concat(Pe(t)),{method:"GET"}));case 3:return n=a.sent,console.log(n),a.abrupt("return",{items:n,totalItems:n.length});case 6:case"end":return a.stop()}}),null,this)},getById:function(t){return this.fetch("/".concat(e,"/").concat(t),{method:"GET"})},createOrUpdateById:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t?this.updateById(t,e):this.insert(e)},insert:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fetch("/".concat(e),{method:"POST",body:JSON.stringify(t)})},updateById:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetch("/".concat(e,"/").concat(t),{method:"PATCH",body:JSON.stringify(n)})},putById:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetch("/".concat(e,"/").concat(t),{method:"PATCH",body:JSON.stringify(n)})},deleteById:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.fetch("/".concat(e,"/").concat(t),{method:"DELETE"})}}}}(de.state.settings),a.a.prototype.$snackbarState=a.a.observable({text:"loading...",visible:!1}),a.a.mixin({methods:{$snackbar:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";console.log(t),this.$snackbarState.text=t,this.$snackbarState.color=e,this.$snackbarState.visible=!0}}}),a.a.config.productionTip=!1,new a.a({router:te,store:de,vuetify:_e,render:function(t){return t(m)}}).$mount("#app")},function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),i={components:{List:n(16).default},props:{name:{type:String,default:""}},data:function(){return{loading:!1,form:{},dialog:!1,collection:{titleKey:"title"},schema:[],props:{}}},computed:{_breadcrumbs:function(){return[{text:"Dashboard",disabled:!1,href:"/"},{text:"Collections",disabled:!1,href:"/collections"},{text:this.name,disabled:!0,href:"breadcrumbs_link_2"}]},_itemTitle:function(){return this.collection.titleKey||"title"}},methods:{onClickItem:function(t){console.log("TODO")},onClickEdit:function(t){console.log("TODO")},createTable:function(){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,a.a.awrap(fetch("/api/collections/".concat(this.name,"/createfromjson"),{method:"GET"}));case 4:t.sent,this.$emit("success");case 6:return t.prev=6,this.loading=!1,this.$emit("input",!1),t.finish(6);case 10:case"end":return t.stop()}}),null,this,[[0,,6,10]])}}},s=n(1),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-breadcrumbs",{attrs:{items:t._breadcrumbs}}),t._v(" "),n("List",{attrs:{name:t.name,"title-key":t._itemTitle},on:{"click:item":t.onClickItem,"click:edit":t.onClickEdit,"click:create":function(e){t.dialog=!0}}},[n("template",{slot:"actions-right"})],2)],1)}),[],!1,null,null,null);e.default=o.exports},function(t,e,n){"use strict";n.r(e);var r=n(36);function a(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var i={directives:{sortable:{inserted:function(t,e,n){var a=e.value;r.a.create(t,{onUpdate:function(t){var e=t.oldIndex,r=t.newIndex,i=a.splice(e,1);a.splice(r,0,i[0]),n.child.$emit("sort",a)}})}}},props:{value:{type:Array,default:function(){return[]}},headers:{type:Array,default:function(){return[]}}},data:function(t){return{selection:t.value,headersInOrder:t.headers}},computed:{_selectionFlat:function(){return this.selection.map((function(t){return t.value}))},_fixedHeaders:function(){return this.headers.filter((function(t){return t.fixed}))},_sortableHeaders:function(){return this.headers.filter((function(t){return!t.fixed}))},_inOrderSelection:function(){var t=this.headersInOrder,e=this._selectionFlat;return t.filter((function(t){var n=t.value;return e.includes(n)}))}},watch:{selection:function(){this.emitSelected()}},methods:{onSort:function(t){this.headersInOrder=t,this.emitSelected()},emitSelected:function(){var t=a(this._inOrderSelection);this.$emit("input",t)},closeColumnSelector:function(){this.$emit("close")}}},s=(n(84),n(1)),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("Columns")]),t._v("Selecting more than 6 columns will affect the readability of the table.\n  "),n("div",[n("p",[t._v("\n      Total selected\n      "),n("b",[t._v(t._s(t.selection.length))]),t._v(" columns.\n    ")]),t._v(" "),n("v-list",{staticClass:"pa-0"},[t._fixedHeaders.length?[t._l(t._fixedHeaders,(function(e){return n("v-list-item",{key:e.value,staticClass:"non-hoverable"},[n("Tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(r){var a=r.on;return[n("span",t._g({},a),[n("div",{staticClass:"mt-0 v-input v-input--hide-details theme--light v-input--selection-controls v-input--checkbox"},[n("div",{staticClass:"v-input__control"},[n("div",{staticClass:"v-input__slot"},[n("div",{staticClass:"v-input--selection-controls__input"},[n("v-icon",[t._v("info")])],1),t._v(" "),n("label",{staticClass:"v-label theme--light"},[t._v(t._s(e.text))])])])])])]}}],null,!0)},[t._v(" "),n("span",[t._v("This column will always be visible")])]),t._v(" "),n("v-spacer")],1)})),t._v(" "),n("v-divider")]:t._e()],2),t._v(" "),n("v-list",{directives:[{name:"sortable",rawName:"v-sortable:sorting",value:t._sortableHeaders,expression:"_sortableHeaders",arg:"sorting"}],staticClass:"pa-0",on:{sort:t.onSort}},t._l(t._sortableHeaders,(function(e){return n("v-list-item",{key:e.value,staticClass:"grab hoverable draggable"},[n("v-checkbox",{staticClass:"mt-0",attrs:{"hide-details":"",value:e,label:e.text},model:{value:t.selection,callback:function(e){t.selection=e},expression:"selection"}}),t._v(" "),n("v-spacer"),t._v(" "),n("div",{staticClass:"show-on-hover"},[n("v-icon",[t._v("drag_indicator")])],1)],1)})),1)],1)])}),[],!1,null,null,null);e.default=o.exports},function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),i=n(5),s=n.n(i),o={components:{},data:function(){return{form:{server:"http://localhost:8888/superadmin"},loading:!1}},created:function(){return a.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}))},methods:{submit:function(t){var e,n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,this.loading=!0,r.next=4,a.a.awrap(s.a.get(t.server));case 4:e=r.sent,console.log(e),n=e.data,this.items=n,r.next=14;break;case 10:r.prev=10,r.t0=r.catch(0),console.warn(r.t0),alert("Not a valid server");case 14:return r.prev=14,this.loading=!1,r.finish(14);case 17:case"end":return r.stop()}}),null,this,[[0,10,14,17]])}}},c=n(1),l=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("form",{on:{submit:function(e){return e.preventDefault(),t.submit(t.form)}}},[n("v-text-field",{attrs:{label:"Server"},model:{value:t.form.server,callback:function(e){t.$set(t.form,"server",e)},expression:"form.server"}}),t._v(" "),n("v-btn",{staticClass:"primary",attrs:{loading:t.loading,type:"submit"}},[t._v("\n      Connect\n    ")])],1)])}),[],!1,null,null,null);e.default=l.exports},function(t,e,n){"use strict";n.r(e);var r=n(17),a=n(19),i={components:{Row:r.default,ProgressLinear:a.default},props:{headers:{type:Array,default:function(){return[]}},selectable:{type:Boolean,default:!1},items:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1},paginationEnabled:{type:Boolean,default:!0},value:{type:Array,default:function(){return[]}},pagination:{type:Object,default:function(){return{}}},noItems:{type:Boolean,default:!1},loadingText:{type:String,default:"Loading..."},noItemsText:{type:String,default:"No items found."}},data:function(){return{}},computed:{totalItems:function(){var t=this.paginationEnabled,e=this.pagination;if(t)return e.totalItems},rowsPerPageItems:function(){return this.paginationEnabled?[10,20,50,100]:[-1]},hasItems:function(){return this.value.length>0}},methods:{updatePagination:function(){}}},s=n(1),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-data-table",t._g(t._b({attrs:{value:t.value,"must-sort":"",headers:t.headers,items:t.items,loading:t.loading,"select-all":!!t.items.length&&t.selectable,"hide-actions":!t.paginationEnabled,"total-items":t.totalItems,"rows-per-page-items":t.rowsPerPageItems,"disable-initial-sort":!0,pagination:t.pagination},on:{input:function(e){return t.$emit("input",e)},"update:pagination":t.updatePagination},scopedSlots:t._u([{key:"progress",fn:function(){return[t._t("progress",[n("ProgressLinear")])]},proxy:!0},t.loading?null:{key:"items",fn:function(e){return[n("Row",{attrs:{headers:t.headers,row:e,selectable:t.selectable},on:{click:function(n){return t.$emit("click",e)}},scopedSlots:t._u([t._l(t.$scopedSlots,(function(e,n){return{key:n,fn:function(e){return[t._t(n,null,null,e)]}}}))],null,!0),model:{value:e.selected,callback:function(n){t.$set(e,"selected",n)},expression:"row.selected"}})]}}],null,!0)},"v-data-table",t.$attrs,!1),t.$listeners),[t._v(" "),t._t("actions-append",null,{slot:"actions-append"}),t._v(" "),t._t("actions-prepend",null,{slot:"actions-prepend"}),t._v(" "),t._t("footer",null,{slot:"footer"}),t._v(" "),t._t("page-text",null,{slot:"page-text"}),t._v(" "),t._t("no-data",[n("div",{staticClass:"text-xs-center ma-3"},[n("b",[t._v(t._s(t.loading?t.loadingText:t.noItemsText))])])],{slot:"no-data"}),t._v(" "),t._v(" "),t._t("no-results",[n("v-layout",[n("v-spacer"),t._v("Create your first item\n        "),n("v-spacer")],1)],{slot:"no-results"})],2)],1)}),[],!1,null,null,null);e.default=o.exports},function(t,e,n){"use strict";n.r(e);var r={methods:{toggleAll:function(){this.selected=this.selected.length?[]:this.items.slice(),this.$emit("input",this.selected)},changeSort:function(t){this.pagination.sortBy===t?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=t,this.pagination.descending=!1)}}},a=(n(85),n(1)),i=Object(a.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[t.selectable?n("th",[n("v-checkbox",{attrs:{"input-value":t.props.all,indeterminate:t.props.indeterminate,primary:"","hide-details":""},on:{click:function(e){return e.stopPropagation(),t.toggleAll(e)}}})],1):t._e(),t._v(" "),t._l(t.props.headers,(function(e){return n("th",{key:e.text,class:["column sortable",!1!==e.sortable?"sortable":"",t.pagination.descending?"desc":"asc",e.value===t.pagination.sortBy?"active":""],on:{click:function(n){return t.changeSort(e.value)}}},[!1!==e.sortable?n("v-icon",{attrs:{small:""}},[t._v("\n      arrow_upward\n    ")]):t._e(),t._v("\n    "+t._s(e.text)+"\n  ")],1)}))],2)}),[],!1,null,null,null);e.default=i.exports},function(t,e,n){"use strict";n.r(e);var r={props:{value:{type:Boolean,default:!1},persistent:{type:Boolean,default:!1},width:{type:String,default:""}}},a=n(1),i=Object(a.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{width:t.width,value:t.value,persistent:t.persistent},on:{input:function(e){return t.$emit("input",e)}}},[n("Card",{staticClass:"theme--light mx-auto"},[n("span",{staticClass:"card-title"},[t._t("title")],2),t._v(" "),n("span",{staticClass:"card-content"},[t._t("default")],2),t._v(" "),t._t("actions-container",[n("v-divider"),t._v(" "),n("v-row",{staticClass:"n2-pa-2"},[t._t("actions")],2)])],2)],1)}),[],!1,null,null,null);e.default=i.exports},function(t,e,n){"use strict";n.r(e);var r={data:function(t){return{over:!1}},methods:{onDragover:function(t){},onDragenter:function(t){this.over=!0},onDragleave:function(t){this.over=!1},onDrop2:function(t){t.stopPropagation(),t.preventDefault(),console.log(t);var e=t.dataTransfer.getData("text/plain");console.log(e)},onDrop:function(t){var e=this;console.log(t.dataTransfer);var n=t.dataTransfer.getData("text");if(console.log("Drop of text",n),n)console.log(n);else{var r=t.dataTransfer.items;if(r.length&&"file"===r[0].kind){var a=r[0].getAsFile();console.log(a.name),console.log(a);var i=new FileReader;i.onload=function(t){console.log(t.target);var n=t.target.result;console.log(n);var r=JSON.parse(n);e.$emit("input",r)},console.log(a),i.readAsText(a)}}}}},a=(n(86),n(1)),i=Object(a.a)(r,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"dropzone",class:t.over?"dropzone__over":"",on:{drop:function(e){return e.stopPropagation(),e.preventDefault(),t.onDrop(e)},dragover:function(e){return e.stopPropagation(),e.preventDefault(),t.onDragover(e)},dragenter:function(e){return e.stopPropagation(),e.preventDefault(),t.onDragenter(e)},dragleave:function(e){return e.stopPropagation(),e.preventDefault(),t.onDragleave(e)}}},[t._t("default",[t._v("Drop files here or click to upload.")])],2)}),[],!1,null,null,null);e.default=i.exports},function(t,e,n){"use strict";n.r(e);var r={props:{items:{type:Array,default:function(){return[]}}},data:function(){return{dialog:!1,form:{},value:{attributes:[]}}},methods:{toggleEdit:function(t){console.log(t),this.dialog=!0},deleteItem:function(t){!function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.items,t)},addField:function(){this.items.push({name:"",editable:!0,params:{type:"string"}})}}},a=(n(87),n(1)),i=Object(a.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._l(t.items||[],(function(e,r){return[n("div",{key:r},[n("v-list-item",{staticClass:"reveal-on-hover"},[n("v-row",{staticClass:"ma-0"},[e.editable?[n("v-col",{attrs:{xs4:""}},[n("v-text-field",{attrs:{label:"Name",placeholder:"Add new field","hide-details":""},model:{value:e.name,callback:function(n){t.$set(e,"name",n)},expression:"item.name"}})],1),t._v(" "),n("v-col",{attrs:{cols:"6"}},[t._v("\n              ???\n            ")])]:[n("v-col",{attrs:{xs4:""}},[t._v("\n              "+t._s(e.name)+"\n            ")]),t._v(" "),n("v-col",{attrs:{cols:"6"}},[t._v("\n              ??\n            ")])],t._v(" "),n("v-col",{attrs:{xs2:""}},[n("v-btn",{staticClass:"hide-by-default",attrs:{icon:""},on:{click:function(n){return t.toggleEdit(e)}}},[n("v-icon",[t._v("edit")])],1),t._v(" "),n("v-btn",{staticClass:"hide-by-default",attrs:{icon:""}},[n("v-icon",[t._v("close")])],1)],1)],2)],1),t._v(" "),n("v-divider")],1)]})),t._v(" "),n("v-btn",{staticClass:"ma-2",attrs:{outlined:""},on:{click:t.addField}},[t._v("\n    Add another field\n  ")])],2)}),[],!1,null,null,null);e.default=i.exports},function(t,e,n){"use strict";n.r(e);var r={props:{items:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1}}},a=n(1),i=Object(a.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{"grid-list-xl":""}},[n("v-layout",{attrs:{wrap:""}},[t.loading?n("v-flex",[n("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1):t._e(),t._v(" "),t.loading?t._e():[t._l(t.items,(function(e,r){return[n("v-flex",{key:r,attrs:{xs3:""}},[t._t("card",[t._v("\n            "+t._s(e)+"\n          ")],{item:e})],2)]}))]],2)],1)}),[],!1,null,null,null);e.default=i.exports},function(t,e,n){"use strict";n.r(e);var r={props:{loading:{type:Boolean,default:!0}}},a=n(1),i=Object(a.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loading?n("v-layout",{staticClass:"pa-4",attrs:{"justify-center":"","align-center":""}},[n("v-progress-circular",{attrs:{indeterminate:"",size:20,width:2,color:"primary"}}),t._v(" "),n("div",{staticClass:"ml-2"},[t._v("\n      Loading...\n    ")])],1):t._e(),t._v(" "),t.loading?t._e():t._t("default")],2)}),[],!1,null,null,null);e.default=i.exports},function(t,e,n){"use strict";n.r(e);var r={props:{value:{type:Boolean,default:!0},showIcons:{type:Boolean,default:!1},items:{type:Array,default:function(){return[]}}},data:function(){return{}}},a=n(1),i=Object(a.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-navigation-drawer",{attrs:{value:t.value,app:"",clipped:"",dark:"",color:"#223440","mobile-break-point":"600",width:"200"},on:{input:function(e){return t.$emit("input",e)}}},[n("v-list",{attrs:{dense:""}},[t._l(t.items,(function(e){return[e.heading?n("v-row",{key:e.heading,attrs:{align:"center"}},[n("v-col",{attrs:{cols:"6"}},[e.heading?n("v-subheader",[t._v("\n              "+t._s(e.heading)+"\n            ")]):t._e()],1)],1):e.children?n("v-list-group",{key:e.text,attrs:{"prepend-icon":e.model?e.icon:e["icon-alt"],"append-icon":""},scopedSlots:t._u([{key:"activator",fn:function(){return[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",{staticClass:"pa-0"},[t._v("\n                  "+t._s(e.text)+"\n                ")])],1)],1)]},proxy:!0}],null,!0),model:{value:e.model,callback:function(n){t.$set(e,"model",n)},expression:"item.model"}},[t._v(" "),t._l(e.children,(function(e,r){return n("v-list-item",{key:r,attrs:{to:e.path}},[t.showIcons?[e.icon?n("v-list-item-action",[n("v-icon",[t._v(t._s(e.icon))])],1):t._e()]:t._e(),t._v(" "),n("v-list-item-content",[n("v-list-item-title",[t._v("\n                "+t._s(e.text)+"\n              ")])],1)],2)}))],2):n("v-list-item",{key:e.text,attrs:{to:e.path}},[t.showIcons?[n("v-list-item-action",[n("v-icon",[t._v(t._s(e.icon))])],1)]:t._e(),t._v(" "),n("v-list-item-content",[n("v-list-item-title",[t._v("\n              "+t._s(e.text)+"\n            ")])],1)],2)]}))],2)],1)}),[],!1,null,null,null);e.default=i.exports},function(t,e,n){"use strict";n.r(e);var r={props:{timeout:{type:Number,default:2e3}},data:function(){return{show:!1,state:{text:"",dismissable:!1}}},created:function(){},methods:{message:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.show&&console.warn("Only one snackbar allowed, closing previous.",t),this.show=!0,this.state.text=t,this.state.dismissable=e,!0}}},a=n(1),i=Object(a.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-snackbar",{attrs:{timeout:t.timeout,color:t.state.color},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[t._v("\n    "+t._s(t.state.text)+"\n    "),t.state.dismissable?[n("v-btn",{attrs:{dark:"",text:""},nativeOn:{click:function(e){t.show=!1}}},[t._v("\n        Close\n      ")])]:t._e()],2)],1)}),[],!1,null,null,null);e.default=i.exports},function(t,e,n){"use strict";n.r(e);var r={computed:{state:function(){return this.$store.state.ui.snackbar},showSnackbar:{get:function(){return this.state.show&&!this.state.modal},set:function(){this.state.show=!1}},showDialog:{get:function(){return this.state.show&&this.state.modal},set:function(){this.state.show=!1}}}},a=n(1),i=Object(a.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-snackbar",{attrs:{timeout:t.state.timeout,color:t.state.color},model:{value:t.showSnackbar,callback:function(e){t.showSnackbar=e},expression:"showSnackbar"}},[t._v("\n    "+t._s(t.state.text)+"\n    ")]),t._v(" "),n("v-dialog",{attrs:{width:"500"},model:{value:t.showDialog,callback:function(e){t.showDialog=e},expression:"showDialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline",attrs:{"primary-title":""}},[t._v("\n        "+t._s(t.state.title)+"\n      ")]),t._v(" "),n("v-card-text",[t.state.text?n("p",[t._v("\n          "+t._s(t.state.text)+"\n        ")]):n("p",[t._v("\n          We are very sorry but at the moment the server can't be reached, please try it later.\n        ")])]),t._v(" "),n("v-divider"),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.showDialog=!1}}},[t._v("\n          Ok\n        ")])],1)],1)],1)],1)}),[],!1,null,null,null);e.default=i.exports},function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c={props:{name:{type:String,default:"pages"},status:{type:String,default:""},id:{type:String,default:""},headers:{type:Array,default:function(){return[{text:"Title",value:"title"},{text:"url",value:"url"},{text:"Datum",value:"date"}]}}},computed:{_breadcrumbs:function(){return[{text:"Dashboard",disabled:!1,href:"/"},{text:this.name,disabled:!0,href:"breadcrumbs_link_2"}]}},data:function(){return{selection:[],loading:!1,items:[],totalItems:0,options:{},props:{id:{},url:{},body:{type:"textarea"},pageblock:{type:"json"}}}},watch:{status:function(){this.fetch()}},created:function(){this.fetch()},methods:{rowClick:function(t){window.open(t.url)},toLink:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"/pages/edit/".concat(t.id)},fetch:function(){var t,e,n,r,i=arguments;return a.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},o.prev=1,this.loading=!0,o.next=5,a.a.awrap(this.$service.getWithTotalItems(this.name,s({state:"published"===this.status?"NULL":this.status},t)));case 5:e=o.sent,n=e.items,r=e.totalItems,this.totalItems=r,this.items=n;case 9:return o.prev=9,this.loading=!1,o.finish(9);case 12:case"end":return o.stop()}}),null,this,[[1,,9,12]])},onClickDelete:function(){var t,e,n=this,r=arguments;return a.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:t=r.length>0&&void 0!==r[0]?r[0]:[];try{this.loading=!0,e=t.map((function(t){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if("trash"!==t.state){e.next=6;break}return e.next=3,a.a.awrap(n.$service.deleteById("pages",t.id));case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,a.a.awrap(n.$service.updateById("pages",t.id,{state:"trash"}));case 8:e.t0=e.sent;case 9:return e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}))})),Promise.all(e).then((function(t){console.log(t),n.fetch()}))}finally{this.loading=!1}case 2:case"end":return i.stop()}}),null,this)}}},l=n(1),u=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.selection.length?n("v-btn",{staticClass:"mx-2 error",on:{click:function(e){return t.onClickDelete(t.selection)}}},[t._v("Move to trash")]):t._e(),t._v(" "),n("v-data-table",{attrs:{"show-select":"",loading:t.loading,headers:t.headers,items:t.loading?[]:t.items,"server-items-length":t.totalItems,options:t.options},on:{"update:options":function(e){t.options=e},"click:row":t.rowClick},scopedSlots:t._u([{key:"item.title",fn:function(e){var r=e.value,a=e.item;return[n("router-link",{attrs:{to:t.toLink(a)}},[t._v(t._s(r||"No name"))])]}},{key:"item.url",fn:function(e){var r=e.value,a=e.item;return[n("a",{attrs:{target:"_blank",href:t.toLink(a)}},[t._v(t._s(r||"No name"))])]}}]),model:{value:t.selection,callback:function(e){t.selection=e},expression:"selection"}})],1)}),[],!1,null,null,null);e.default=u.exports},function(t,e,n){"use strict";n.r(e);var r={props:{label:{type:String,default:"Show more"},value:{type:Boolean,default:!1},iconDown:{type:String,default:"keyboard_arrow_down"},iconUp:{type:String,default:"keyboard_arrow_up"}},data:function(){return{show:!1}},computed:{icon:function(){return this.show?this.iconUp:this.iconDown}},methods:{toggle:function(){this.$emit("input",!this.value),this.show=!this.show}}},a=n(1),i=Object(a.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-btn",{attrs:{outlined:""},on:{click:t.toggle}},[t._v("\n    "+t._s(t.label)+" "),n("v-icon",[t._v(t._s(t.icon))])],1),t._v(" "),t.value||t.show?n("div",[t._t("default")],2):t._e()],1)}),[],!1,null,null,null);e.default=i.exports},function(t,e,n){"use strict";n.r(e);var r={components:{TheProfileMenu:n(18).default},props:{value:Boolean,title:{type:String,default:""}},methods:{toggle:function(){this.$emit("input",!this.value)}}},a=n(1),i=Object(a.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app-bar",{attrs:{"clipped-left":"",dense:"",app:"",color:"deep-purple accent-4"}},[n("v-app-bar-nav-icon",{on:{click:function(e){return e.stopPropagation(),t.toggle()}}},[n("v-icon",[t._v("menu")])],1),t._v(" "),n("v-toolbar-title",[t._v(t._s(t.title))]),t._v(" "),n("v-spacer"),t._v(" "),n("v-btn",{attrs:{target:"_blank",href:"/",text:""}},[n("v-icon",[t._v("mdi-export-variant")]),t._v("To site\n  ")],1),t._v(" "),n("TheProfileMenu")],1)}),[],!1,null,null,null);e.default=i.exports},function(t,e,n){"use strict";n.r(e);var r={props:{value:{type:Object,default:function(){return{}}}},data:function(t){return{permissions:[{text:"find"},{text:"create"},{text:"findone"},{text:"delete"},{text:"update"}]}},watch:{form:function(t){this.$emit("input",t)}}},a=n(1),i=Object(a.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("\n  "+t._s(t.value)+"\n\n  "),t._l(t.permissions||[],(function(e,r){return[n("div",{key:r},[n("v-list-item",{staticClass:"reveal-on-hover"},[n("v-switch",{attrs:{label:e.text},model:{value:t.value[e.text],callback:function(n){t.$set(t.value,e.text,n)},expression:"value[item.text]"}})],1),t._v(" "),n("v-divider")],1)]}))],2)}),[],!1,null,null,null);e.default=i.exports},function(t,e,n){"use strict";n.r(e);var r={data:function(){return{form:{}}},methods:{submit:function(t){console.log(t),this.$emit("submit",JSON.parse(t.name))}}},a=n(1),i=Object(a.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-form",{on:{submit:function(e){return e.preventDefault(),t.submit(t.form)}}},[n("v-textarea",{attrs:{label:"Name",placeholder:"['users','resourcetypes']"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),t._v(" "),n("v-btn",{staticClass:"primary",attrs:{type:"submit"}},[t._v("\n    Add multiple\n  ")])],1)}),[],!1,null,null,null);e.default=i.exports},function(t,e,n){"use strict";n.r(e);var r=n(1),a=Object(r.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-snackbar",{attrs:{color:t.$snackbarState.color},model:{value:t.$snackbarState.visible,callback:function(e){t.$set(t.$snackbarState,"visible",e)},expression:"$snackbarState.visible"}},[t._v("\n  "+t._s(t.$snackbarState.text)+"\n  "),n("v-btn",{attrs:{text:""},on:{click:function(e){t.$snackbarState.visible=!1}}},[t._v("\n    Close\n  ")])],1)}),[],!1,null,null,null);e.default=a.exports},function(t,e,n){"use strict";n.r(e);var r=n(1),a=Object(r.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("DataTable",{attrs:{items:[],"item-key":"sampleDate",headers:[],selectable:""},scopedSlots:t._u([{key:"headers",fn:function(){return[t._v("\n    headers\n  ")]},proxy:!0},{key:"actions-prepend",fn:function(){return[t._v("\n    actions-prepend\n  ")]},proxy:!0},{key:"actions-append",fn:function(){return[t._v("\n    actions-append\n  ")]},proxy:!0},{key:"page-text",fn:function(e){e.pageStart,e.pageStop,e.itemsLength;return[t._v("\n    page-text\n  ")]}},{key:"column-sampleDate",fn:function(e){e.row;var r=e.field;return t._l(r,(function(e,r){return n("v-chip",{key:r},[t._v("\n      "+t._s(e)+"\n    ")])}))}}])},[t._v(" "),t._v(" "),t._v(" "),n("template",{slot:"footer"},[t._v("\n    footer\n  ")]),t._v(" "),n("template",{slot:"no-data"},[t._v("\n    no-data\n  ")])],2)}),[],!1,null,null,null);e.default=a.exports},function(t,e,n){"use strict";n.r(e);var r=n(1),a=Object(r.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("Toggle",this._b({},"Toggle",this.$props,!1),[e("pre",[this._v("    "),this._t("default"),this._v("\n    ")],2)])}),[],!1,null,null,null);e.default=a.exports}],[[37,2,0]]]);